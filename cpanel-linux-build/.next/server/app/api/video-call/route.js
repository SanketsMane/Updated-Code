"use strict";(()=>{var e={};e.id=3372,e.ids=[3372],e.modules={3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{e.exports=require("node:buffer")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{e.exports=require("dns")},19121:e=>{e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{e.exports=require("os")},27910:e=>{e.exports=require("stream")},28354:e=>{e.exports=require("util")},29021:e=>{e.exports=require("fs")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{e.exports=require("path")},34631:e=>{e.exports=require("tls")},37067:e=>{e.exports=require("node:http")},44708:e=>{e.exports=require("node:https")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{e.exports=require("crypto")},55591:e=>{e.exports=require("https")},56767:(e,r,t)=>{t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>l,serverHooks:()=>v,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>q});var s={};t.r(s),t.d(s,{GET:()=>p,PATCH:()=>x,POST:()=>d});var o=t(36639),n=t(99880),i=t(77991),a=t(11246),u=t(47202);async function p(e){try{let{searchParams:r}=new URL(e.url),t=r.get("sessionId");if(!t)return a.NextResponse.json({error:"Session ID is required"},{status:400});let s=await (0,u.Z5)(t);return a.NextResponse.json(s)}catch(e){return console.error("Error getting meeting room:",e),a.NextResponse.json({error:"Failed to get meeting room"},{status:500})}}async function d(e){try{let{action:r,sessionId:t,channelName:s,uid:o}=await e.json();if("generateToken"===r){if(!s)return a.NextResponse.json({error:"Channel name is required"},{status:400});let e=await (0,u.RN)(s,o);return a.NextResponse.json({token:e})}return a.NextResponse.json({error:"Invalid action"},{status:400})}catch(e){return console.error("Error in video call API:",e),a.NextResponse.json({error:"Failed to process video call request"},{status:500})}}async function x(e){try{let{sessionId:r,status:t}=await e.json();return await (0,u.KJ)(r,t),a.NextResponse.json({success:!0})}catch(e){return console.error("Error updating session status:",e),a.NextResponse.json({error:"Failed to update session status"},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/video-call/route",pathname:"/api/video-call",filename:"route",bundlePath:"app/api/video-call/route"},resolvedPagePath:"/Users/sanket/Documents/LMS-Organomed copy/app/api/video-call/route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:c,workUnitAsyncStorage:q,serverHooks:v}=l;function g(){return(0,i.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:q})}},57975:e=>{e.exports=require("node:util")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{e.exports=require("zlib")},77598:e=>{e.exports=require("node:crypto")},78474:e=>{e.exports=require("node:events")},79551:e=>{e.exports=require("url")},79646:e=>{e.exports=require("child_process")},81630:e=>{e.exports=require("http")},91645:e=>{e.exports=require("net")},94735:e=>{e.exports=require("events")},96330:e=>{e.exports=require("@prisma/client")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7991,2692,1135,3831,1123,4714,2959,6394],()=>t(56767));module.exports=s})();