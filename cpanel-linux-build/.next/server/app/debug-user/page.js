(()=>{var e={};e.id=7954,e.ids=[1651,7954],e.modules={3107:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(95130);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},3121:(e,r,t)=>{"use strict";t.d(r,{ZT:()=>c,eZ:()=>d,li:()=>l,yl:()=>o});var s=t(49522),i=t(43831),n=t(81436),a=t(25360);let o=(0,a.cache)(async()=>{let e=await s.j.api.getSession({headers:await (0,i.headers)()});return e?"admin"!==e.user.role&&"teacher"!==e.user.role?(0,n.redirect)("/not-admin"):e:(0,n.redirect)("/login")}),d=(0,a.cache)(async()=>{let e=await s.j.api.getSession({headers:await (0,i.headers)()});return e?"teacher"!==e.user.role&&"admin"!==e.user.role?(0,n.redirect)("/not-admin"):e:(0,n.redirect)("/login")}),c=(0,a.cache)(async()=>{let e=await s.j.api.getSession({headers:await (0,i.headers)()});return e?"admin"!==e.user.role?(0,n.redirect)("/not-admin"):e:(0,n.redirect)("/login")}),l=(0,a.cache)(async()=>await s.j.api.getSession({headers:await (0,i.headers)()}))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},9158:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>a,wL:()=>l});var s=t(44789);t(25360);var i=t(51499);function n({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function a({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function o({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",e),...r})}function d({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,i.cn)("text-muted-foreground text-sm",e),...r})}function c({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",e),...r})}function l({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,i.cn)("flex items-center px-6 [.border-t]:pt-6",e),...r})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},15786:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var s=t(57226);async function i(e){try{if(!process.env.EMAIL_HOST&&!process.env.EMAIL_USER)return console.log("---------------------------------------------------"),console.log("EMAIL SENT (MOCKED):"),console.log("To:",e.to),console.log("Subject:",e.subject),console.log("---------------------------------------------------"),!0;let r="gmail"===process.env.EMAIL_SERVICE?s.createTransport({service:"gmail",auth:{user:process.env.EMAIL_USER||"",pass:process.env.EMAIL_PASS||""}}):s.createTransport({host:process.env.EMAIL_HOST,port:parseInt(process.env.EMAIL_PORT||"587"),secure:"true"===process.env.EMAIL_SECURE,auth:{user:process.env.EMAIL_USER||"",pass:process.env.EMAIL_PASS||""}}),t={from:e.from||process.env.EMAIL_FROM||process.env.EMAIL_USER,to:e.to,subject:e.subject,html:e.html},i=await r.sendMail(t);return console.log("Email sent successfully:",i.messageId),!0}catch(e){return console.error("Error sending email:",e),!1}}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19959:(e,r,t)=>{"use strict";t.d(r,{E:()=>d});var s=t(44789);t(25360);var i=t(54381),n=t(1036),a=t(51499);let o=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:r,asChild:t=!1,...n}){let d=t?i.DX:"span";return(0,s.jsx)(d,{"data-slot":"badge",className:(0,a.cn)(o({variant:r}),e),...n})}},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},37086:(e,r,t)=>{"use strict";t.d(r,{z:()=>i});var s=t(96330);let i=global.prisma||new s.PrismaClient},41297:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(44789),i=t(3121),n=t(9158),a=t(62984),o=t(87976),d=t.n(o),c=t(19959);async function l(){let e=await (0,i.li)();return(0,s.jsx)("div",{className:"container max-w-2xl mx-auto py-16 px-4",children:(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{children:(0,s.jsx)(n.ZB,{children:"Current User Information"})}),(0,s.jsx)(n.Wu,{className:"space-y-4",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Name"}),(0,s.jsx)("p",{className:"font-medium",children:e.user.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,s.jsx)("p",{className:"font-medium",children:e.user.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Role"}),(0,s.jsx)(c.E,{variant:"admin"===e.user.role?"default":"teacher"===e.user.role?"secondary":"outline",children:e.user.role||"No Role"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"User ID"}),(0,s.jsx)("p",{className:"font-mono text-xs",children:e.user.id})]})]}),(0,s.jsxs)("div",{className:"pt-4 space-y-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Navigate to your dashboard:"}),(0,s.jsxs)("div",{className:"flex gap-2",children:["admin"===e.user.role&&(0,s.jsx)(a.$,{asChild:!0,children:(0,s.jsx)(d(),{href:"/admin",children:"Go to Admin Dashboard"})}),"teacher"===e.user.role&&(0,s.jsx)(a.$,{asChild:!0,children:(0,s.jsx)(d(),{href:"/teacher",children:"Go to Teacher Dashboard"})}),(!e.user.role||"student"===e.user.role)&&(0,s.jsx)(a.$,{asChild:!0,children:(0,s.jsx)(d(),{href:"/dashboard",children:"Go to Student Dashboard"})})]})]})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:"Not logged in"}),(0,s.jsx)(a.$,{asChild:!0,className:"mt-4",children:(0,s.jsx)(d(),{href:"/login",children:"Login"})})]})})]})})}},42632:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var s=t(6855),i=t(99880),n=t(44858),a=t.n(n),o=t(84637),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let c={children:["",{children:["debug-user",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41297)),"/Users/sanket/Documents/LMS-Organomed copy/app/debug-user/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,68166)),"/Users/sanket/Documents/LMS-Organomed copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,42260,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/Users/sanket/Documents/LMS-Organomed copy/app/debug-user/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/debug-user/page",pathname:"/debug-user",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},44708:e=>{"use strict";e.exports=require("node:https")},49522:(e,r,t)=>{"use strict";t.d(r,{j:()=>c});var s=t(85817),i=t(95027),n=t(37086),a=t(94149),o=t(37628),d=t(15786);let c=(0,s.li)({database:(0,i._)(n.z,{provider:"postgresql"}),trustedOrigins:["http://localhost:3000","http://localhost:3001","http://localhost:3002","http://localhost:3003"],socialProviders:{github:{clientId:a._.AUTH_GITHUB_CLIENT_ID,clientSecret:a._.AUTH_GITHUB_SECRET}},emailAndPassword:{enabled:!0},user:{additionalFields:{role:{type:"string"}}},plugins:[(0,o.yI)({async sendVerificationOTP({email:e,otp:r}){await (0,d.Z)({to:e,subject:"KIDOKOOL - Verify your email",html:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
              <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px 20px; text-align: center; border-radius: 10px; margin-bottom: 30px;">
                <h1>üîê Email Verification</h1>
              </div>
              <p>Hi there,</p>
              <p>Please use the following OTP to verify your email address:</p>
              <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center; margin: 20px 0; border-left: 4px solid #667eea;">
                <h2 style="color: #667eea; font-size: 36px; margin: 0; letter-spacing: 4px;">${r}</h2>
              </div>
              <p>This OTP will expire in 10 minutes for security reasons.</p>
              <div style="text-align: center; margin-top: 30px; color: #666; font-size: 14px;">
                <p>If you didn't request this verification, please ignore this email.</p>
              </div>
            </div>
          `})}}),(0,o.wr)()]})},51499:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(6852),i=t(22929);function n(...e){return(0,i.QP)((0,s.$)(e))}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57975:e=>{"use strict";e.exports=require("node:util")},62984:(e,r,t)=>{"use strict";t.d(r,{$:()=>d,r:()=>o});var s=t(44789);t(25360);var i=t(54381),n=t(1036),a=t(51499);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:r,size:t,asChild:n=!1,...d}){let c=n?i.DX:"button";return(0,s.jsx)(c,{suppressHydrationWarning:!0,"data-slot":"button",className:(0,a.cn)(o({variant:r,size:t,className:e})),...d})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72960:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,534,23))},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},86112:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,87976,23))},87976:(e,r,t)=>{let{createProxy:s}=t(88212);e.exports=s("/Users/sanket/Documents/LMS-Organomed copy/node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/app-dir/link.js")},91645:e=>{"use strict";e.exports=require("net")},94149:(e,r,t)=>{"use strict";t.d(r,{_:()=>n});var s=t(97191),i=t(79082);let n=(0,s.w)({server:{DATABASE_URL:i.z.string().url(),BETTER_AUTH_SECRET:i.z.string().min(1),BETTER_AUTH_URL:i.z.string().url(),AUTH_GITHUB_CLIENT_ID:i.z.string().min(1),AUTH_GITHUB_SECRET:i.z.string().min(1),EMAIL_SERVICE:i.z.string().optional(),EMAIL_HOST:i.z.string().optional(),EMAIL_PORT:i.z.string().optional(),EMAIL_SECURE:i.z.string().optional(),EMAIL_USER:i.z.string().optional(),EMAIL_PASS:i.z.string().optional(),EMAIL_FROM:i.z.string().optional(),AWS_ACCESS_KEY_ID:i.z.string().min(1),AWS_SECRET_ACCESS_KEY:i.z.string().min(1),AWS_ENDPOINT_URL_S3:i.z.string().min(1),AWS_ENDPOINT_URL_IAM:i.z.string().min(1),AWS_REGION:i.z.string().min(1),STRIPE_SECRET_KEY:i.z.string().min(1),STRIPE_WEBHOOK_SECRET:i.z.string().min(1)},skipValidation:!!process.env.SKIP_ENV_VALIDATION,client:{NEXT_PUBLIC_S3_BUCKET_NAME_IMAGES:i.z.string().min(1)},experimental__runtimeEnv:{NEXT_PUBLIC_S3_BUCKET_NAME_IMAGES:"placeholder-bucket"}})},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7991,2692,1135,3831,1123,9716,5130,32,9809,580],()=>t(42632));module.exports=s})();