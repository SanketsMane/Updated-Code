(()=>{var e={};e.id=6609,e.ids=[6609],e.modules={602:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var a=(0,t(53525).A)("outline","chart-bar","IconChartBar",[["path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M15 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M9 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M4 20h14",key:"svg-3"}]])},2049:(e,s,t)=>{Promise.resolve().then(t.bind(t,97764))},2829:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4401:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11101:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{default:function(){return c},getImageProps:function(){return n}});let a=t(52717),i=t(56729),r=t(74213),l=a._(t(34445));function n(e){let{props:s}=(0,i.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(s))void 0===t&&delete s[e];return{props:s}}let c=r.Image},13838:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},13864:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},13962:(e,s,t)=>{"use strict";t.d(s,{default:()=>i.a});var a=t(11101),i=t.n(a)},14722:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var a=(0,t(53525).A)("outline","file-text","IconFileText",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20747:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},22898:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d});var a=t(6855),i=t(99880),r=t(44858),l=t.n(r),n=t(84637),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d={children:["",{children:["teacher",{children:["quizzes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,72166)),"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/quizzes/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,96583)),"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,46345)),"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,68166)),"/Users/sanket/Documents/LMS-Organomed copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,42260,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["/Users/sanket/Documents/LMS-Organomed copy/app/teacher/quizzes/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/teacher/quizzes/page",pathname:"/teacher/quizzes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30519:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var a=(0,t(53525).A)("outline","users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]])},33664:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},33873:e=>{"use strict";e.exports=require("path")},35694:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>x,Es:()=>u,L3:()=>m,c7:()=>h,lG:()=>n,rr:()=>p,zM:()=>c});var a=t(21551);t(70794);var i=t(97114),r=t(37996),l=t(3413);function n({...e}){return(0,a.jsx)(i.bL,{"data-slot":"dialog",...e})}function c({...e}){return(0,a.jsx)(i.l9,{"data-slot":"dialog-trigger",...e})}function d({...e}){return(0,a.jsx)(i.ZL,{"data-slot":"dialog-portal",...e})}function o({className:e,...s}){return(0,a.jsx)(i.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function x({className:e,children:s,showCloseButton:t=!0,...n}){return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(i.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[s,t&&(0,a.jsxs)(i.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(r.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",e),...s})}function u({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function m({className:e,...s}){return(0,a.jsx)(i.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",e),...s})}function p({className:e,...s}){return(0,a.jsx)(i.VY,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",e),...s})}},41148:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},49965:(e,s,t)=>{"use strict";t.d(s,{Progress:()=>N});var a=t(21551),i=t(70794),r=t(87926),l=t(68463),n="Progress",[c,d]=(0,r.A)(n),[o,x]=c(n),h=i.forwardRef((e,s)=>{var t,i;let{__scopeProgress:r,value:n=null,max:c,getValueLabel:d=p,...x}=e;(c||0===c)&&!f(c)&&console.error((t=`${c}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let h=f(c)?c:100;null===n||v(n,h)||console.error((i=`${n}`,`Invalid prop \`value\` of value \`${i}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=v(n,h)?n:null,m=g(u)?d(u,h):void 0;return(0,a.jsx)(o,{scope:r,value:u,max:h,children:(0,a.jsx)(l.sG.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":g(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":j(u,h),"data-value":u??void 0,"data-max":h,...x,ref:s})})});h.displayName=n;var u="ProgressIndicator",m=i.forwardRef((e,s)=>{let{__scopeProgress:t,...i}=e,r=x(u,t);return(0,a.jsx)(l.sG.div,{"data-state":j(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...i,ref:s})});function p(e,s){return`${Math.round(e/s*100)}%`}function j(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function g(e){return"number"==typeof e}function f(e){return g(e)&&!isNaN(e)&&e>0}function v(e,s){return g(e)&&!isNaN(e)&&e<=s&&e>=0}m.displayName=u;var y=t(3413);function N({className:e,value:s,...t}){return(0,a.jsx)(h,{"data-slot":"progress",className:(0,y.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...t,children:(0,a.jsx)(m,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}},51922:(e,s,t)=>{"use strict";t.d(s,{Switch:()=>w});var a=t(21551),i=t(70794),r=t(26613),l=t(89280),n=t(87926),c=t(48891),d=t(87467),o=t(70331),x=t(68463),h="Switch",[u,m]=(0,n.A)(h),[p,j]=u(h),g=i.forwardRef((e,s)=>{let{__scopeSwitch:t,name:n,checked:d,defaultChecked:o,required:u,disabled:m,value:j="on",onCheckedChange:g,form:f,...v}=e,[b,w]=i.useState(null),k=(0,l.s)(s,e=>w(e)),A=i.useRef(!1),q=!b||f||!!b.closest("form"),[C,z]=(0,c.i)({prop:d,defaultProp:o??!1,onChange:g,caller:h});return(0,a.jsxs)(p,{scope:t,checked:C,disabled:m,children:[(0,a.jsx)(x.sG.button,{type:"button",role:"switch","aria-checked":C,"aria-required":u,"data-state":N(C),"data-disabled":m?"":void 0,disabled:m,value:j,...v,ref:k,onClick:(0,r.mK)(e.onClick,e=>{z(e=>!e),q&&(A.current=e.isPropagationStopped(),A.current||e.stopPropagation())})}),q&&(0,a.jsx)(y,{control:b,bubbles:!A.current,name:n,value:j,checked:C,required:u,disabled:m,form:f,style:{transform:"translateX(-100%)"}})]})});g.displayName=h;var f="SwitchThumb",v=i.forwardRef((e,s)=>{let{__scopeSwitch:t,...i}=e,r=j(f,t);return(0,a.jsx)(x.sG.span,{"data-state":N(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:s})});v.displayName=f;var y=i.forwardRef(({__scopeSwitch:e,control:s,checked:t,bubbles:r=!0,...n},c)=>{let x=i.useRef(null),h=(0,l.s)(x,c),u=(0,d.Z)(t),m=(0,o.X)(s);return i.useEffect(()=>{let e=x.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==t&&s){let a=new Event("click",{bubbles:r});s.call(e,t),e.dispatchEvent(a)}},[u,t,r]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:h,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var b=t(3413);let w=i.forwardRef(({className:e,...s},t)=>(0,a.jsx)(g,{className:(0,b.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:(0,a.jsx)(v,{className:(0,b.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));w.displayName=g.displayName},59720:(e,s,t)=>{"use strict";t.d(s,{b:()=>n});var a=t(70794),i=t(68463),r=t(21551),l=a.forwardRef((e,s)=>(0,r.jsx)(i.sG.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var n=l},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65601:(e,s,t)=>{Promise.resolve().then(t.bind(t,72166))},69454:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},72166:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(55547).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/quizzes/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/quizzes/page.tsx","default")},79551:e=>{"use strict";e.exports=require("url")},81495:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},94341:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},94434:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var a=(0,t(53525).A)("outline","wallet","IconWallet",[["path",{d:"M17 8v-3a1 1 0 0 0 -1 -1h-10a2 2 0 0 0 0 4h12a1 1 0 0 1 1 1v3m0 4v3a1 1 0 0 1 -1 1h-12a2 2 0 0 1 -2 -2v-12",key:"svg-0"}],["path",{d:"M20 12v4h-4a2 2 0 0 1 0 -4h4",key:"svg-1"}]])},94734:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(45691).A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},97764:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ea});var a=t(21551),i=t(70794),r=t(34460),l=t(90778),n=t(85449),c=t(552),d=t(11986),o=t(35694),x=t(67609),h=t(19701),u=t(45691);let m=(0,u.A)("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);var p=t(12994),j=t(33664),g=t(1480),f=t(20747),v=t(13838),y=t(70888),N=t(2578),b=t(41148);let w=(0,u.A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var k=t(13864),A=t(46619);let q=(0,u.A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var C=t(34815);let z=(0,u.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),S=(0,u.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),M=(0,u.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),L=(0,u.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var P=t(4401),T=t(77111),D=t(12810),R=t(26348),$=t(51922),_=t(3413);let E=i.forwardRef(({className:e,value:s,defaultValue:t,onValueChange:r,min:l=0,max:n=100,step:c=1,...d},o)=>{let[x,h]=i.useState(s||t||[l]),u=s||x;return(0,a.jsx)("div",{className:(0,_.cn)("relative flex w-full touch-none select-none items-center",e),children:(0,a.jsx)("input",{type:"range",ref:o,min:l,max:n,step:c,value:u[0],onChange:e=>{let s=[Number(e.target.value)];h(s),r?.(s)},className:(0,_.cn)("w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer","slider-thumb:appearance-none slider-thumb:h-4 slider-thumb:w-4 slider-thumb:rounded-full slider-thumb:bg-primary slider-thumb:cursor-pointer","[&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:cursor-pointer","[&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:border-0"),...d})})});E.displayName="Slider";var Q=t(6234),F=t(94734),I=t(69454);let O=(0,u.A)("circle-help",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var Z=t(99179),W=t(10153),B=t(81495);let U=(0,u.A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var V=t(94341),G=t(21876),H=t(37996);function J({initialData:e,onSave:s,onCancel:t}){let[o,x]=(0,i.useState)({type:"MultipleChoice",question:"",explanation:"",points:1,difficulty:"Medium",position:0,isRequired:!0,partialCredit:!1,questionData:{options:[]},...e}),[h,u]=(0,i.useState)({}),m=()=>{let e={};switch(!o.question?.trim()&&(e.question="Question text is required"),(!o.points||o.points<0)&&(e.points="Points must be greater than 0"),o.type){case"MultipleChoice":let s=o.questionData;!s?.options?.length||s.options.length<2?e.options="At least 2 options are required":s.options.some(e=>e.isCorrect)||(e.options="At least one correct answer is required");break;case"ShortAnswer":let t=o.questionData;t?.correctAnswers?.length&&t.correctAnswers.some(e=>e.trim())||(e.correctAnswers="At least one correct answer is required");break;case"FillInTheBlank":let a=o.questionData;a?.text?.includes("___")||a?.blanks?.length||(e.fillInBlank="Text must contain blanks (___) or define blank positions");break;case"Matching":let i=o.questionData;(!i?.pairs?.length||i.pairs.length<2)&&(e.matching="At least 2 pairs are required");break;case"Ordering":let r=o.questionData;(!r?.items?.length||r.items.length<2)&&(e.ordering="At least 2 items are required")}return u(e),0===Object.keys(e).length},j=e=>{x(s=>({...s,questionData:{...s.questionData,...e}}))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(Q.Tabs,{defaultValue:"question",className:"w-full",children:[(0,a.jsxs)(Q.TabsList,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(Q.TabsTrigger,{value:"question",children:"Question"}),(0,a.jsx)(Q.TabsTrigger,{value:"settings",children:"Settings"})]}),(0,a.jsxs)(Q.TabsContent,{value:"question",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Question Type"}),(0,a.jsxs)(d.l6,{value:o.type,onValueChange:e=>x(s=>({...s,type:e,questionData:"MultipleChoice"===e?{options:[]}:"TrueFalse"===e?{correctAnswer:!0}:"ShortAnswer"===e?{correctAnswers:[""],caseSensitive:!1}:"LongAnswer"===e?{}:"FillInTheBlank"===e?{text:"",blanks:[]}:"Matching"===e?{pairs:[]}:"Ordering"===e?{items:[]}:{}})),children:[(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{placeholder:"Select question type"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"MultipleChoice",children:"Multiple Choice"}),(0,a.jsx)(d.eb,{value:"TrueFalse",children:"True/False"}),(0,a.jsx)(d.eb,{value:"ShortAnswer",children:"Short Answer"}),(0,a.jsx)(d.eb,{value:"LongAnswer",children:"Long Answer"}),(0,a.jsx)(d.eb,{value:"FillInTheBlank",children:"Fill in the Blank"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"questionText",children:"Question *"}),(0,a.jsx)(R.T,{id:"questionText",value:o.question,onChange:e=>x(s=>({...s,question:e.target.value})),placeholder:"Enter your question here...",rows:3,className:h.question?"border-red-500":""}),h.question&&(0,a.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,a.jsx)(V.A,{className:"h-4 w-4"}),h.question]})]}),(0,a.jsxs)("div",{children:["MultipleChoice"===o.type&&(0,a.jsx)(()=>{let e=o.questionData||{options:[]},s=(s,t)=>{j({options:e.options.map(e=>e.id===s?{...e,...t}:e)})},t=s=>{j({options:e.options.filter(e=>e.id!==s)})};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(D.Label,{children:"Answer Options"}),(0,a.jsxs)(l.$,{type:"button",onClick:()=>{let s={id:crypto.randomUUID(),text:"",isCorrect:!1};j({options:[...e.options,s]})},size:"sm",variant:"outline",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Add Option"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:e.options.map((i,r)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.E,{variant:"secondary",className:"min-w-[24px] text-center",children:String.fromCharCode(65+r)}),(0,a.jsx)(c.p,{value:i.text,onChange:e=>s(i.id,{text:e.target.value}),placeholder:`Option ${String.fromCharCode(65+r)}`,className:"flex-1"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)($.Switch,{checked:i.isCorrect,onCheckedChange:e=>s(i.id,{isCorrect:e})}),(0,a.jsx)(D.Label,{className:"text-sm",children:"Correct"})]}),(0,a.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>t(i.id),disabled:e.options.length<=2,children:(0,a.jsx)(P.A,{className:"h-4 w-4"})})]},i.id))}),0===e.options.length&&(0,a.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:(0,a.jsx)("p",{children:'No options added yet. Click "Add Option" to start.'})}),h.options&&(0,a.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,a.jsx)(V.A,{className:"h-4 w-4"}),h.options]})]})},{}),"TrueFalse"===o.type&&(0,a.jsx)(()=>{let e=o.questionData||{correctAnswer:!0};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(D.Label,{children:"Correct Answer"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"radio",id:"true",name:"trueFalse",checked:!0===e.correctAnswer,onChange:()=>j({correctAnswer:!0}),className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.Label,{htmlFor:"true",className:"flex items-center gap-2",children:[(0,a.jsx)(G.A,{className:"h-4 w-4 text-green-600"}),"True"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"radio",id:"false",name:"trueFalse",checked:!1===e.correctAnswer,onChange:()=>j({correctAnswer:!1}),className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.Label,{htmlFor:"false",className:"flex items-center gap-2",children:[(0,a.jsx)(H.A,{className:"h-4 w-4 text-red-600"}),"False"]})]})]})]})},{}),"ShortAnswer"===o.type&&(0,a.jsx)(()=>{let e=o.questionData||{correctAnswers:[""],caseSensitive:!1},s=(s,t)=>{let a=[...e.correctAnswers];a[s]=t,j({correctAnswers:a})},t=s=>{j({correctAnswers:e.correctAnswers.filter((e,t)=>t!==s)})};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(D.Label,{children:"Accepted Answers"}),(0,a.jsxs)(l.$,{type:"button",onClick:()=>{j({correctAnswers:[...e.correctAnswers,""]})},size:"sm",variant:"outline",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Add Answer"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.correctAnswers.map((i,r)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.p,{value:i,onChange:e=>s(r,e.target.value),placeholder:"Correct answer...",className:"flex-1"}),(0,a.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>t(r),disabled:e.correctAnswers.length<=1,children:(0,a.jsx)(P.A,{className:"h-4 w-4"})})]},r))}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Case Sensitive"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Answers must match exact capitalization"})]}),(0,a.jsx)($.Switch,{checked:e.caseSensitive,onCheckedChange:e=>j({caseSensitive:e})})]}),h.correctAnswers&&(0,a.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,a.jsx)(V.A,{className:"h-4 w-4"}),h.correctAnswers]})]})},{}),"LongAnswer"===o.type&&(0,a.jsx)(()=>{let e=o.questionData||{};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Sample Answer (Optional)"}),(0,a.jsx)(R.T,{value:e.sampleAnswer||"",onChange:e=>j({sampleAnswer:e.target.value}),placeholder:"Provide a sample answer for grading reference...",rows:4})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Maximum Words (Optional)"}),(0,a.jsx)(c.p,{type:"number",value:e.maxWords||"",onChange:e=>j({maxWords:e.target.value?parseInt(e.target.value):void 0}),placeholder:"e.g., 500",min:1})]})]})},{}),"FillInTheBlank"===o.type&&(0,a.jsx)(()=>{let e=o.questionData||{text:"",blanks:[]},s=(s,t)=>{j({blanks:e.blanks.map(e=>e.id===s?{...e,...t}:e)})},t=t=>{let a=e.blanks.find(e=>e.id===t);a&&s(t,{correctAnswers:[...a.correctAnswers,""]})},i=(t,a,i)=>{let r=e.blanks.find(e=>e.id===t);if(r){let e=[...r.correctAnswers];e[a]=i,s(t,{correctAnswers:e})}},n=(t,a)=>{let i=e.blanks.find(e=>e.id===t);i&&i.correctAnswers.length>1&&s(t,{correctAnswers:i.correctAnswers.filter((e,s)=>s!==a)})},d=()=>{j({blanks:Array.from({length:(e.text.match(/___/g)||[]).length},(e,s)=>({id:crypto.randomUUID(),correctAnswers:[""],caseSensitive:!1}))})};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Question Text with Blanks"}),(0,a.jsx)(R.T,{value:e.text,onChange:e=>{j({text:e.target.value}),setTimeout(d,100)},placeholder:"Enter text with ___ for blanks. Example: The capital of France is ___.",rows:3}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use ___ (three underscores) to mark blank spaces"})]}),e.blanks.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(D.Label,{children:"Blank Answers"}),e.blanks.map((e,d)=>(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{className:"pb-2",children:(0,a.jsxs)(r.ZB,{className:"text-sm",children:["Blank ",d+1]})}),(0,a.jsxs)(r.Wu,{className:"space-y-3",children:[e.correctAnswers.map((s,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.p,{value:s,onChange:s=>i(e.id,t,s.target.value),placeholder:"Correct answer...",className:"flex-1"}),(0,a.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>n(e.id,t),disabled:e.correctAnswers.length<=1,children:(0,a.jsx)(P.A,{className:"h-4 w-4"})})]},t)),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(l.$,{type:"button",variant:"outline",size:"sm",onClick:()=>t(e.id),children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Add Answer"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)($.Switch,{checked:e.caseSensitive,onCheckedChange:t=>s(e.id,{caseSensitive:t})}),(0,a.jsx)(D.Label,{className:"text-sm",children:"Case Sensitive"})]})]})]})]},e.id))]}),h.fillInBlank&&(0,a.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,a.jsx)(V.A,{className:"h-4 w-4"}),h.fillInBlank]})]})},{})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"explanation",children:"Explanation (Optional)"}),(0,a.jsx)(R.T,{id:"explanation",value:o.explanation||"",onChange:e=>x(s=>({...s,explanation:e.target.value})),placeholder:"Provide an explanation that will be shown after answering...",rows:2})]})]}),(0,a.jsxs)(Q.TabsContent,{value:"settings",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Points"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(E,{value:[o.points||1],onValueChange:e=>x(s=>({...s,points:e[0]})),min:1,max:10,step:1,className:"flex-1"}),(0,a.jsx)("span",{className:"w-12 text-sm font-medium",children:o.points||1})]}),h.points&&(0,a.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,a.jsx)(V.A,{className:"h-4 w-4"}),h.points]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Difficulty Level"}),(0,a.jsxs)(d.l6,{value:o.difficulty,onValueChange:e=>x(s=>({...s,difficulty:e})),children:[(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"Easy",children:"Easy"}),(0,a.jsx)(d.eb,{value:"Medium",children:"Medium"}),(0,a.jsx)(d.eb,{value:"Hard",children:"Hard"}),(0,a.jsx)(d.eb,{value:"Expert",children:"Expert"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Required Question"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Students must answer this question"})]}),(0,a.jsx)($.Switch,{checked:o.isRequired,onCheckedChange:e=>x(s=>({...s,isRequired:e}))})]}),"MultipleChoice"===o.type&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Partial Credit"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Award points for partially correct answers"})]}),(0,a.jsx)($.Switch,{checked:o.partialCredit,onCheckedChange:e=>x(s=>({...s,partialCredit:e}))})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 pt-4 border-t",children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),(0,a.jsxs)(l.$,{type:"button",onClick:()=>{if(!m())return void T.oR.error("Please fix the errors before saving");s(o)},className:"flex items-center gap-2",children:[(0,a.jsx)(Z.A,{className:"h-4 w-4"}),"Save Question"]})]})]})}var X=t(49965),Y=t(81303);let K=(0,u.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var ee=t(2829);function es({quiz:e}){let[s,t]=(0,i.useState)(0),[d,o]=(0,i.useState)({}),[x,h]=(0,i.useState)(e.timeLimit?60*e.timeLimit:null),u=(e,s)=>{o(t=>({...t,[e]:s}))},p=e=>{switch(e){case"MultipleChoice":return(0,a.jsx)(F.A,{className:"h-4 w-4"});case"TrueFalse":return(0,a.jsx)(j.A,{className:"h-4 w-4"});case"ShortAnswer":case"LongAnswer":return(0,a.jsx)(I.A,{className:"h-4 w-4"});default:return(0,a.jsx)(O,{className:"h-4 w-4"})}},g=e=>{switch(e){case"Easy":return"bg-green-100 text-green-800 border-green-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Hard":return"bg-blue-100 text-blue-800 border-blue-200";case"Expert":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=()=>e.questions.reduce((e,s)=>e+s.points,0),y=(e,s)=>{let t=d[e.id];return(0,a.jsxs)(r.Zp,{className:"w-full",children:[(0,a.jsx)(r.aR,{children:(0,a.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsxs)(n.E,{variant:"outline",className:"text-sm",children:["Question ",s+1]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[p(e.type),(0,a.jsx)("span",{className:"text-xs",children:e.type.replace(/([A-Z])/g," $1").trim()})]}),(0,a.jsx)(n.E,{className:`text-xs ${g(e.difficulty)}`,children:e.difficulty}),(0,a.jsxs)(n.E,{variant:"secondary",className:"text-xs",children:[e.points," ",1===e.points?"point":"points"]}),e.isRequired&&(0,a.jsx)(n.E,{variant:"destructive",className:"text-xs",children:"Required"})]}),(0,a.jsx)(r.ZB,{className:"text-lg leading-relaxed",children:e.question})]})})}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:["MultipleChoice"===e.type&&(()=>{let i=e.questionData?.options||[];return(0,a.jsx)("div",{className:"space-y-3",children:i.map((i,r)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"radio",id:`q${s}-option${r}`,name:`question-${e.id}`,value:i.id,checked:t===i.id,onChange:s=>u(e.id,s.target.value),className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.Label,{htmlFor:`q${s}-option${r}`,className:"flex items-center gap-3 cursor-pointer flex-1 p-3 rounded-lg border hover:bg-gray-50",children:[(0,a.jsx)(n.E,{variant:"outline",className:"min-w-[24px] text-center",children:String.fromCharCode(65+r)}),(0,a.jsx)("span",{children:i.text})]})]},i.id))})})(),"TrueFalse"===e.type&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"radio",id:`q${s}-true`,name:`question-${e.id}`,value:"true",checked:"true"===t,onChange:s=>u(e.id,s.target.value),className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.Label,{htmlFor:`q${s}-true`,className:"flex items-center gap-3 cursor-pointer flex-1 p-3 rounded-lg border hover:bg-gray-50",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{children:"True"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"radio",id:`q${s}-false`,name:`question-${e.id}`,value:"false",checked:"false"===t,onChange:s=>u(e.id,s.target.value),className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.Label,{htmlFor:`q${s}-false`,className:"flex items-center gap-3 cursor-pointer flex-1 p-3 rounded-lg border hover:bg-gray-50",children:[(0,a.jsx)(Y.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)("span",{children:"False"})]})]})]}),"ShortAnswer"===e.type&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.p,{value:t||"",onChange:s=>u(e.id,s.target.value),placeholder:"Enter your answer...",className:"w-full"}),e.questionData?.caseSensitive&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(V.A,{className:"h-3 w-3"}),"Case sensitive"]})]}),"LongAnswer"===e.type&&(()=>{let s=e.questionData?.maxWords,i=t?t.split(/\s+/).filter(e=>e.length>0).length:0;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(R.T,{value:t||"",onChange:s=>u(e.id,s.target.value),placeholder:"Enter your detailed answer...",rows:6,className:"w-full"}),s&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:[i," words"]}),(0,a.jsxs)("span",{className:i>s?"text-red-600":"",children:["Max: ",s," words"]})]})]})})(),"FillInTheBlank"===e.type&&(()=>{let s=e.questionData?.text||"",i=e.questionData?.blanks||[],r=s.split("___");return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"text-base leading-relaxed",children:r.map((s,r)=>(0,a.jsxs)("span",{children:[s,r<i.length&&(0,a.jsx)(c.p,{value:t?.[r]||"",onChange:s=>{let a={...t};a[r]=s.target.value,u(e.id,a)},className:"inline-block w-32 mx-1 h-8 text-center",placeholder:"___"})]},r))}),i.some(e=>e.caseSensitive)&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(V.A,{className:"h-3 w-3"}),"Some blanks are case sensitive"]})]})})(),e.explanation&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(K,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Explanation"}),(0,a.jsx)("p",{className:"text-sm text-blue-800 mt-1",children:e.explanation})]})]})})]})]},e.id)};return 0===e.questions.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(O,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Questions Added"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Add some questions to see the quiz preview"})]}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(m,{className:"h-6 w-6 text-blue-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:e.title})]}),e.description&&(0,a.jsx)("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(O,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-semibold",children:e.questions.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Questions"})]})]})})}),(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-semibold",children:v()}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Points"})]})]})})}),(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-semibold",children:e.timeLimit?`${e.timeLimit}m`:"âˆž"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Time Limit"})]})]})})}),(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-4 w-4 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[e.passingScore,"%"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Passing"})]})]})})})]}),e.instructions&&(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(K,{className:"h-5 w-5"}),"Instructions"]})}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("p",{className:"text-muted-foreground whitespace-pre-line",children:e.instructions})})]}),(0,a.jsx)(r.Zp,{children:(0,a.jsxs)(r.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Progress"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Object.keys(d).length," of ",e.questions.length," answered"]})]}),(0,a.jsx)(X.Progress,{value:Object.keys(d).length/e.questions.length*100,className:"h-2"})]})}),null!==x&&(0,a.jsx)(r.Zp,{className:"border-blue-200 bg-blue-50",children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-blue-800",children:[(0,a.jsx)(ee.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-lg font-mono font-semibold",children:(e=>{let s=Math.floor(e/60);return`${s}:${(e%60).toString().padStart(2,"0")}`})(x)}),(0,a.jsx)("span",{className:"text-sm",children:"remaining"})]})})}),(0,a.jsx)("div",{className:"space-y-6",children:e.questions.map((e,s)=>y(e,s))}),(0,a.jsx)(r.Zp,{className:"border-green-200 bg-green-50",children:(0,a.jsx)(r.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-800",children:[(0,a.jsx)(j.A,{className:"h-6 w-6"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Ready to Submit?"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-green-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(O,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[Object.keys(d).length," / ",e.questions.length," answered"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[v()," total points"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[e.passingScore,"% to pass"]})]})]}),(0,a.jsx)(l.$,{size:"lg",className:"bg-green-600 hover:bg-green-700",disabled:!0,children:"Submit Quiz (Preview Mode)"}),(0,a.jsx)("p",{className:"text-sm text-green-600",children:"This is a preview. Students will see a submit button here."})]})})}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsx)(r.ZB,{children:"Quiz Settings"})}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Label,{className:"font-medium",children:"Maximum Attempts:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:-1===e.maxAttempts?"Unlimited":e.maxAttempts})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Label,{className:"font-medium",children:"Show Results:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e.showResults?"Immediately":"Hidden"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Label,{className:"font-medium",children:"Show Correct Answers:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e.showCorrectAnswers?"Yes":"No"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Label,{className:"font-medium",children:"Question Order:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e.randomizeQuestions?"Randomized":"Fixed"})]})]})})]})]})}function et({initialData:e,courseId:s,chapterId:t,lessonId:x,onSave:h,onCancel:u}){let[g,v]=(0,i.useState)({title:"",description:"",instructions:"",courseId:s,chapterId:t,lessonId:x,timeLimit:void 0,passingScore:70,maxAttempts:3,showResults:!0,showCorrectAnswers:!1,randomizeQuestions:!1,randomizeOptions:!1,isPublished:!1,isActive:!0,questions:[],...e}),[y,b]=(0,i.useState)("details"),[w,k]=(0,i.useState)(null),[A,q]=(0,i.useState)(!1),[M,L]=(0,i.useState)(!1),[_,V]=(0,i.useState)(!1),G=async()=>{if(!g.title.trim())return void T.oR.error("Quiz title is required");if(0===g.questions.length)return void T.oR.error("At least one question is required");V(!0);try{await h?.(g),T.oR.success("Quiz saved successfully!")}catch(e){console.error("Error saving quiz:",e),T.oR.error("Failed to save quiz")}finally{V(!1)}},H=e=>{v(s=>({...s,questions:s.questions.filter(s=>s.id!==e).map((e,s)=>({...e,position:s}))}))},X=(e,s)=>{v(t=>{let a=[...t.questions],i=a.findIndex(s=>s.id===e);if("up"===s&&0===i||"down"===s&&i===a.length-1)return t;let r="up"===s?i-1:i+1;return[a[i],a[r]]=[a[r],a[i]],a.forEach((e,s)=>{e.position=s}),{...t,questions:a}})},Y=e=>{let s={...e,id:crypto.randomUUID(),question:`${e.question} (Copy)`,position:g.questions.length};v(e=>({...e,questions:[...e.questions,s]}))},K=e=>{switch(e){case"MultipleChoice":return(0,a.jsx)(F.A,{className:"h-4 w-4"});case"TrueFalse":return(0,a.jsx)(j.A,{className:"h-4 w-4"});case"ShortAnswer":case"LongAnswer":return(0,a.jsx)(I.A,{className:"h-4 w-4"});default:return(0,a.jsx)(O,{className:"h-4 w-4"})}},ee=e=>{switch(e){case"Easy":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Hard":return"bg-blue-100 text-blue-800";case"Expert":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,a.jsx)(m,{className:"h-6 w-6 text-blue-600"}),"Quiz Builder"]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Create interactive quizzes with multiple question types and advanced settings"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.$,{variant:"outline",onClick:()=>L(!0),className:"flex items-center gap-2",children:[(0,a.jsx)(z,{className:"h-4 w-4"}),"Preview"]}),(0,a.jsxs)(l.$,{onClick:G,disabled:_||0===g.questions.length,className:"flex items-center gap-2",children:[(0,a.jsx)(Z.A,{className:"h-4 w-4"}),_?"Saving...":"Save Quiz"]}),u&&(0,a.jsx)(l.$,{variant:"outline",onClick:u,children:"Cancel"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(O,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Questions"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:g.questions.length})]})]})})}),(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Total Points"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:g.questions.reduce((e,s)=>e+s.points,0)})]})]})})}),(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Time Limit"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:g.timeLimit?`${g.timeLimit}m`:"None"})]})]})})}),(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-4 w-4 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Passing Score"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[g.passingScore,"%"]})]})]})})})]}),(0,a.jsxs)(Q.Tabs,{value:y,onValueChange:b,className:"w-full",children:[(0,a.jsxs)(Q.TabsList,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(Q.TabsTrigger,{value:"details",children:"Quiz Details"}),(0,a.jsxs)(Q.TabsTrigger,{value:"questions",children:["Questions (",g.questions.length,")"]}),(0,a.jsx)(Q.TabsTrigger,{value:"settings",children:"Settings"})]}),(0,a.jsx)(Q.TabsContent,{value:"details",className:"space-y-6",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Basic Information"}),(0,a.jsx)(r.BT,{children:"Set up the basic details for your quiz"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"title",children:"Quiz Title *"}),(0,a.jsx)(c.p,{id:"title",value:g.title,onChange:e=>v(s=>({...s,title:e.target.value})),placeholder:"Enter quiz title..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"passingScore",children:"Passing Score (%)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(E,{value:[g.passingScore],onValueChange:e=>v(s=>({...s,passingScore:e[0]})),max:100,step:5,className:"flex-1"}),(0,a.jsxs)("span",{className:"w-12 text-sm font-medium",children:[g.passingScore,"%"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"description",children:"Description"}),(0,a.jsx)(R.T,{id:"description",value:g.description||"",onChange:e=>v(s=>({...s,description:e.target.value})),placeholder:"Brief description of the quiz...",rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"instructions",children:"Instructions"}),(0,a.jsx)(R.T,{id:"instructions",value:g.instructions||"",onChange:e=>v(s=>({...s,instructions:e.target.value})),placeholder:"Instructions for students taking the quiz...",rows:4})]})]})]})}),(0,a.jsxs)(Q.TabsContent,{value:"questions",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Quiz Questions"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add and manage questions for your quiz"})]}),(0,a.jsxs)(l.$,{onClick:()=>{k(null),q(!0)},className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Add Question"]})]}),0===g.questions.length?(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(O,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"No questions yet"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Start by adding your first question to the quiz"}),(0,a.jsxs)(l.$,{onClick:()=>{k(null),q(!0)},className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Add First Question"]})]})]})})}):(0,a.jsx)("div",{className:"space-y-4",children:g.questions.map((e,s)=>(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsxs)(n.E,{variant:"outline",className:"text-xs",children:["Q",s+1]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[K(e.type),(0,a.jsx)("span",{className:"text-xs",children:e.type})]}),(0,a.jsx)(n.E,{className:`text-xs ${ee(e.difficulty)}`,children:e.difficulty}),(0,a.jsxs)(n.E,{variant:"secondary",className:"text-xs",children:[e.points," pts"]})]}),(0,a.jsx)("h4",{className:"font-medium mb-1 line-clamp-2",children:e.question}),e.explanation&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1",children:e.explanation})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>X(e.id,"up"),disabled:0===s,children:(0,a.jsx)(B.A,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>X(e.id,"down"),disabled:s===g.questions.length-1,children:(0,a.jsx)(U,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>Y(e),children:(0,a.jsx)(S,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{k(e),q(!0)},children:(0,a.jsx)(C.A,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>H(e.id),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(P.A,{className:"h-4 w-4"})})]})]})})},e.id))})]}),(0,a.jsxs)(Q.TabsContent,{value:"settings",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Timing & Attempts"}),(0,a.jsx)(r.BT,{children:"Configure time limits and attempt restrictions"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Time Limit (minutes)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)($.Switch,{checked:void 0!==g.timeLimit,onCheckedChange:e=>v(s=>({...s,timeLimit:e?60:void 0}))}),void 0!==g.timeLimit&&(0,a.jsx)(c.p,{type:"number",value:g.timeLimit,onChange:e=>v(s=>({...s,timeLimit:parseInt(e.target.value)||60})),min:1,max:480,className:"w-24"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:g.timeLimit?`${g.timeLimit} minutes`:"No limit"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Maximum Attempts"}),(0,a.jsxs)(d.l6,{value:g.maxAttempts.toString(),onValueChange:e=>v(s=>({...s,maxAttempts:parseInt(e)})),children:[(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"1",children:"1 attempt"}),(0,a.jsx)(d.eb,{value:"2",children:"2 attempts"}),(0,a.jsx)(d.eb,{value:"3",children:"3 attempts"}),(0,a.jsx)(d.eb,{value:"5",children:"5 attempts"}),(0,a.jsx)(d.eb,{value:"-1",children:"Unlimited"})]})]})]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Display Options"}),(0,a.jsx)(r.BT,{children:"Configure how results and feedback are shown"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Show Results Immediately"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Display score after submission"})]}),(0,a.jsx)($.Switch,{checked:g.showResults,onCheckedChange:e=>v(s=>({...s,showResults:e}))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Show Correct Answers"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Reveal correct answers after completion"})]}),(0,a.jsx)($.Switch,{checked:g.showCorrectAnswers,onCheckedChange:e=>v(s=>({...s,showCorrectAnswers:e}))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Randomize Questions"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Shuffle question order for each attempt"})]}),(0,a.jsx)($.Switch,{checked:g.randomizeQuestions,onCheckedChange:e=>v(s=>({...s,randomizeQuestions:e}))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Randomize Options"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Shuffle answer choices for multiple choice"})]}),(0,a.jsx)($.Switch,{checked:g.randomizeOptions,onCheckedChange:e=>v(s=>({...s,randomizeOptions:e}))})]})]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Quiz Status"}),(0,a.jsx)(r.BT,{children:"Control quiz availability and publication"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Published"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Make quiz available to students"})]}),(0,a.jsx)($.Switch,{checked:g.isPublished,onCheckedChange:e=>v(s=>({...s,isPublished:e}))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Active"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Quiz can be taken by students"})]}),(0,a.jsx)($.Switch,{checked:g.isActive,onCheckedChange:e=>v(s=>({...s,isActive:e}))})]})]})]})]})]}),(0,a.jsx)(o.lG,{open:A,onOpenChange:q,children:(0,a.jsxs)(o.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:w?"Edit Question":"Add New Question"}),(0,a.jsx)(o.rr,{children:"Create or modify quiz questions with various question types"})]}),(0,a.jsx)(J,{initialData:w,onSave:w?e=>{v(s=>({...s,questions:s.questions.map(s=>s.id===e.id?e:s)})),q(!1),k(null)}:e=>{let s={...e,id:crypto.randomUUID(),position:g.questions.length};v(e=>({...e,questions:[...e.questions,s]})),q(!1),k(null)},onCancel:()=>{q(!1),k(null)}})]})}),(0,a.jsx)(o.lG,{open:M,onOpenChange:L,children:(0,a.jsxs)(o.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:"Quiz Preview"}),(0,a.jsx)(o.rr,{children:"Preview how your quiz will appear to students"})]}),(0,a.jsx)(es,{quiz:g})]})})]})}function ea(){let[e,s]=(0,i.useState)([]),[t,u]=(0,i.useState)([]),[D,R]=(0,i.useState)(!0),[$,_]=(0,i.useState)(""),[E,Q]=(0,i.useState)("all"),[F,I]=(0,i.useState)("all"),[O,Z]=(0,i.useState)(!1),[W,B]=(0,i.useState)(null),[U,V]=(0,i.useState)(!1),[G,H]=(0,i.useState)(null),J=async()=>{try{let e=await fetch("/api/quiz");if(e.ok){let t=await e.json();s(t)}else T.oR.error("Failed to fetch quizzes")}catch(e){console.error("Error fetching quizzes:",e),T.oR.error("Failed to fetch quizzes")}finally{R(!1)}},X=async e=>{try{let s=await fetch("/api/quiz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok)T.oR.success("Quiz created successfully!"),Z(!1),J();else{let e=await s.json();T.oR.error(e.error||"Failed to create quiz")}}catch(e){console.error("Error creating quiz:",e),T.oR.error("Failed to create quiz")}},Y=async(e,s)=>{try{let t=await fetch(`/api/quiz/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(t.ok)T.oR.success("Quiz updated successfully!"),B(null),J();else{let e=await t.json();T.oR.error(e.error||"Failed to update quiz")}}catch(e){console.error("Error updating quiz:",e),T.oR.error("Failed to update quiz")}},K=async()=>{if(G)try{let e=await fetch(`/api/quiz/${G.id}`,{method:"DELETE"});if(e.ok)T.oR.success("Quiz deleted successfully!"),V(!1),H(null),J();else{let s=await e.json();T.oR.error(s.error||"Failed to delete quiz")}}catch(e){console.error("Error deleting quiz:",e),T.oR.error("Failed to delete quiz")}},ee=async(e,s)=>{try{let t=await fetch(`/api/quiz/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[s]:!e[s]})});if(t.ok)T.oR.success(`Quiz ${"isPublished"===s?"publication":"activation"} updated!`),J();else{let e=await t.json();T.oR.error(e.error||"Failed to update quiz status")}}catch(e){console.error("Error updating quiz status:",e),T.oR.error("Failed to update quiz status")}},es=async e=>{try{let{id:s,createdAt:t,_count:a,...i}=e,r={...i,title:`${e.title} (Copy)`,isPublished:!1};await X(r)}catch(e){console.error("Error duplicating quiz:",e),T.oR.error("Failed to duplicate quiz")}},ea=e.filter(e=>{let s=e.title.toLowerCase().includes($.toLowerCase()),t="all"===E||e.courseId===E,a="all"===F||"published"===F&&e.isPublished||"draft"===F&&!e.isPublished||"active"===F&&e.isActive||"inactive"===F&&!e.isActive;return s&&t&&a}),ei=e=>e.isPublished&&e.isActive?"bg-green-100 text-green-800 border-green-200":e.isPublished&&!e.isActive?"bg-yellow-100 text-yellow-800 border-yellow-200":e.isPublished?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200",er=e=>e.isPublished&&e.isActive?"Published":e.isPublished&&!e.isActive?"Paused":e.isPublished?"Inactive":"Draft",el=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return D?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(m,{className:"h-12 w-12 text-blue-600 mx-auto animate-pulse mb-4"}),(0,a.jsx)("p",{children:"Loading quizzes..."})]})}):(0,a.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,a.jsx)(m,{className:"h-8 w-8 text-blue-600"}),"Quiz Management"]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Create and manage interactive quizzes for your courses"})]}),(0,a.jsxs)(l.$,{onClick:()=>Z(!0),className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Create Quiz"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{className:"h-5 w-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Total Quizzes"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.length})]})]})})}),(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Published"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.filter(e=>e.isPublished).length})]})]})})}),(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Total Attempts"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.reduce((e,s)=>e+s._count.attempts,0)})]})]})})}),(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Questions"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.reduce((e,s)=>e+s.questions.length,0)})]})]})})})]}),(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(c.p,{placeholder:"Search quizzes...",value:$,onChange:e=>_(e.target.value),className:"w-64"})]}),(0,a.jsxs)(d.l6,{value:E,onValueChange:Q,children:[(0,a.jsx)(d.bq,{className:"w-48",children:(0,a.jsx)(d.yv,{placeholder:"Select course"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"all",children:"All Courses"}),t.map(e=>(0,a.jsx)(d.eb,{value:e.id,children:e.title},e.id))]})]}),(0,a.jsxs)(d.l6,{value:F,onValueChange:I,children:[(0,a.jsx)(d.bq,{className:"w-32",children:(0,a.jsx)(d.yv,{placeholder:"Status"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"all",children:"All Status"}),(0,a.jsx)(d.eb,{value:"published",children:"Published"}),(0,a.jsx)(d.eb,{value:"draft",children:"Draft"}),(0,a.jsx)(d.eb,{value:"active",children:"Active"}),(0,a.jsx)(d.eb,{value:"inactive",children:"Inactive"})]})]}),(0,a.jsxs)(n.E,{variant:"secondary",className:"ml-auto",children:[ea.length," of ",e.length," quizzes"]})]})})}),0===ea.length?(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(m,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"No quizzes found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:$||"all"!==E||"all"!==F?"Try adjusting your filters":"Create your first quiz to get started"}),!$&&"all"===E&&"all"===F&&(0,a.jsxs)(l.$,{onClick:()=>Z(!0),children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Create Your First Quiz"]})]})]})})}):(0,a.jsx)("div",{className:"grid gap-4",children:ea.map(e=>(0,a.jsx)(r.Zp,{className:"hover:shadow-md transition-shadow",children:(0,a.jsx)(r.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,a.jsx)(n.E,{className:ei(e),children:er(e)}),e._count.attempts>0&&(0,a.jsxs)(n.E,{variant:"outline",className:"text-xs",children:[e._count.attempts," attempts"]})]}),e.description&&(0,a.jsx)("p",{className:"text-muted-foreground mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.course?.title||e.chapter?.title||e.lesson?.title||"Standalone"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[e.questions.length," questions"]})]}),e.timeLimit&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[e.timeLimit," min"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Created ",el(e.createdAt)]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>ee(e,"isActive"),disabled:!e.isPublished,children:e.isActive?(0,a.jsx)(w,{className:"h-4 w-4"}):(0,a.jsx)(k.A,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>window.open(`/quiz/${e.id}/analytics`,"_blank"),children:(0,a.jsx)(A.A,{className:"h-4 w-4"})}),(0,a.jsxs)(x.DropdownMenu,{children:[(0,a.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(l.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(q,{className:"h-4 w-4"})})}),(0,a.jsxs)(x.DropdownMenuContent,{align:"end",children:[(0,a.jsxs)(x.DropdownMenuItem,{onClick:()=>B(e),children:[(0,a.jsx)(C.A,{className:"h-4 w-4 mr-2"}),"Edit Quiz"]}),(0,a.jsxs)(x.DropdownMenuItem,{onClick:()=>window.open(`/quiz/${e.id}/preview`,"_blank"),children:[(0,a.jsx)(z,{className:"h-4 w-4 mr-2"}),"Preview"]}),(0,a.jsxs)(x.DropdownMenuItem,{onClick:()=>es(e),children:[(0,a.jsx)(S,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),(0,a.jsx)(x.DropdownMenuItem,{onClick:()=>ee(e,"isPublished"),children:e.isPublished?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w,{className:"h-4 w-4 mr-2"}),"Unpublish"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Publish"]})}),(0,a.jsx)(x.DropdownMenuSeparator,{}),(0,a.jsxs)(x.DropdownMenuItem,{onClick:()=>window.open(`/quiz/${e.id}/results`,"_blank"),children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"View Results"]}),(0,a.jsxs)(x.DropdownMenuItem,{children:[(0,a.jsx)(M,{className:"h-4 w-4 mr-2"}),"Export Data"]}),(0,a.jsxs)(x.DropdownMenuItem,{children:[(0,a.jsx)(L,{className:"h-4 w-4 mr-2"}),"Share Quiz"]}),(0,a.jsx)(x.DropdownMenuSeparator,{}),(0,a.jsxs)(x.DropdownMenuItem,{onClick:()=>{H(e),V(!0)},className:"text-red-600 focus:text-red-600",disabled:e._count.attempts>0,children:[(0,a.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"Delete Quiz"]})]})]})]})]})})},e.id))}),(0,a.jsx)(o.lG,{open:O,onOpenChange:Z,children:(0,a.jsxs)(o.Cf,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:"Create New Quiz"}),(0,a.jsx)(o.rr,{children:"Create an interactive quiz with multiple question types and advanced settings"})]}),(0,a.jsx)(et,{onSave:X,onCancel:()=>Z(!1)})]})}),(0,a.jsx)(o.lG,{open:!!W,onOpenChange:e=>!e&&B(null),children:(0,a.jsxs)(o.Cf,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:"Edit Quiz"}),(0,a.jsx)(o.rr,{children:"Modify your quiz settings and questions"})]}),W&&(0,a.jsx)(et,{initialData:W,onSave:e=>Y(W.id,e),onCancel:()=>B(null)})]})}),(0,a.jsx)(h.Lt,{open:U,onOpenChange:V,children:(0,a.jsxs)(h.EO,{children:[(0,a.jsxs)(h.wd,{children:[(0,a.jsx)(h.r7,{children:"Delete Quiz"}),(0,a.jsxs)(h.$v,{children:['Are you sure you want to delete "',G?.title,'"? This action cannot be undone.',G?._count?.attempts&&G._count.attempts>0&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-red-800 text-sm",children:["This quiz has ",G?._count?.attempts||0," student attempts and cannot be deleted."]})]})]}),(0,a.jsxs)(h.ck,{children:[(0,a.jsx)(h.Zr,{children:"Cancel"}),(0,a.jsx)(h.Rx,{onClick:K,disabled:!!G?._count?.attempts&&G._count.attempts>0,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[7991,1123,9716,5130,32,6972,6726,4213,8825,580,2730,5754,5183],()=>t(22898));module.exports=a})();