(()=>{var e={};e.id=6115,e.ids=[6115],e.modules={3040:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var r=t(21551),a=t(90778),n=t(34460),i=t(17985),l=t(95863),o=t(60458),c=t(97662),d=t(12994),u=t(534),h=t.n(u),p=t(68376),x=t(64722),m=t(32520),f=t(552),g=t(73134),v=t.n(g),j=t(26348),b=t(11986),y=t(18056),A=t(14674),w=t(70794),N=t(43532),k=t(40875);let C=(0,k.createServerReference)("408a5c0d8d6aa59b6c53d5768ea98257ef822c56f2",k.callServer,void 0,k.findSourceMapURL,"CreateCourse");var M=t(77111),z=t(31965),P=t(86329);function S(){let[e,s]=(0,w.useTransition)(),t=(0,z.useRouter)(),{triggerConfetti:u}=(0,P.m)(),g=(0,p.mN)({resolver:(0,x.u)(i.f_),defaultValues:{title:"",description:"",fileKey:"",price:0,duration:0,level:"Beginner",category:"Health & Fitness",status:"Draft",slug:"",smallDescription:""}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(h(),{href:"/teacher",className:(0,a.r)({variant:"outline",size:"icon"}),children:(0,r.jsx)(l.A,{className:"size-4"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Create Courses"})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Basic Information"}),(0,r.jsx)(n.BT,{children:"Provide basic information about the course"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)(m.lV,{...g,children:(0,r.jsxs)("form",{className:"space-y-6",onSubmit:g.handleSubmit(function(e){s(async()=>{let{data:s,error:r}=await (0,N.T)(C(e));if(r)return void M.oR.error("An unexpected error occurred. Please try again.");"success"===s.status?(M.oR.success(s.message),u(),g.reset(),t.push("/teacher")):"error"===s.status&&M.oR.error(s.message)})},e=>{let s=Object.keys(e).join(", ");M.oR.error(`Please check the following fields: ${s}`),console.log("Form errors:",e)}),children:[(0,r.jsx)(m.zB,{control:g.control,name:"title",render:({field:e})=>(0,r.jsxs)(m.eI,{className:"w-full",children:[(0,r.jsx)(m.lR,{children:"Title"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(f.p,{placeholder:"Course Title",...e})}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,r.jsx)(m.zB,{control:g.control,name:"slug",render:({field:e})=>(0,r.jsxs)(m.eI,{className:"w-full",children:[(0,r.jsx)(m.lR,{children:"Slug"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(f.p,{placeholder:"Slug",...e,value:e.value})}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsxs)(a.$,{type:"button",className:"w-fit",onClick:()=>{let e=g.getValues("title"),s=v()(e);g.setValue("slug",s,{shouldValidate:!0})},children:["Generate Slug ",(0,r.jsx)(o.A,{className:"ml-1",size:16})]})]}),(0,r.jsx)(m.zB,{control:g.control,name:"smallDescription",render:({field:e})=>(0,r.jsxs)(m.eI,{className:"w-full",children:[(0,r.jsx)(m.lR,{children:"Small Description"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(j.T,{placeholder:"Small Description",className:"min-h-[120px]",...e})}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsx)(m.zB,{control:g.control,name:"description",render:({field:e})=>(0,r.jsxs)(m.eI,{className:"w-full",children:[(0,r.jsx)(m.lR,{children:"Description"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(y.d,{field:e})}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsx)(m.zB,{control:g.control,name:"fileKey",render:({field:e})=>(0,r.jsxs)(m.eI,{className:"w-full",children:[(0,r.jsx)(m.lR,{children:"Thumbnail image"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(A.d,{fileTypeAccepted:"image",onChange:e.onChange,value:e.value})}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(m.zB,{control:g.control,name:"category",render:({field:e})=>(0,r.jsxs)(m.eI,{className:"w-full",children:[(0,r.jsx)(m.lR,{children:"Category"}),(0,r.jsxs)(b.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,r.jsx)(m.MJ,{children:(0,r.jsx)(b.bq,{className:"w-full",children:(0,r.jsx)(b.yv,{placeholder:"Select Category"})})}),(0,r.jsx)(b.gC,{children:i.Oo.map(e=>(0,r.jsx)(b.eb,{value:e,children:e},e))})]}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsx)(m.zB,{control:g.control,name:"level",render:({field:e})=>(0,r.jsxs)(m.eI,{className:"w-full",children:[(0,r.jsx)(m.lR,{children:"Level"}),(0,r.jsxs)(b.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,r.jsx)(m.MJ,{children:(0,r.jsx)(b.bq,{className:"w-full",children:(0,r.jsx)(b.yv,{placeholder:"Select Value"})})}),(0,r.jsx)(b.gC,{children:i.Ps.map(e=>(0,r.jsx)(b.eb,{value:e,children:e},e))})]}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsx)(m.zB,{control:g.control,name:"duration",render:({field:e})=>(0,r.jsxs)(m.eI,{className:"w-full",children:[(0,r.jsx)(m.lR,{children:"Duration (hours)"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(f.p,{placeholder:"Duration",type:"number",...e,value:e.value})}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsx)(m.zB,{control:g.control,name:"price",render:({field:e})=>(0,r.jsxs)(m.eI,{className:"w-full",children:[(0,r.jsx)(m.lR,{children:"Price ($)"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(f.p,{placeholder:"Duration",type:"number",...e,value:e.value})}),(0,r.jsx)(m.C5,{})]})})]}),(0,r.jsx)(m.zB,{control:g.control,name:"status",render:({field:e})=>(0,r.jsxs)(m.eI,{className:"w-full",children:[(0,r.jsx)(m.lR,{children:"Status"}),(0,r.jsxs)(b.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,r.jsx)(m.MJ,{children:(0,r.jsx)(b.bq,{className:"w-full",children:(0,r.jsx)(b.yv,{placeholder:"Select Status"})})}),(0,r.jsx)(b.gC,{children:i.Ik.map(e=>(0,r.jsx)(b.eb,{value:e,children:e},e))})]}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsx)(a.$,{type:"submit",disabled:e,children:e?(0,r.jsxs)(r.Fragment,{children:["Creating...",(0,r.jsx)(c.A,{className:"animate-spin ml-1"})]}):(0,r.jsxs)(r.Fragment,{children:["Create Course ",(0,r.jsx)(d.A,{className:"ml-1",size:16})]})})]})})})]})]})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11986:(e,s,t)=>{"use strict";t.d(s,{bq:()=>u,eb:()=>p,gC:()=>h,l6:()=>c,yv:()=>d});var r=t(21551);t(70794);var a=t(92868),n=t(94200),i=t(21876),l=t(22749),o=t(3413);function c({...e}){return(0,r.jsx)(a.bL,{"data-slot":"select",...e})}function d({...e}){return(0,r.jsx)(a.WT,{"data-slot":"select-value",...e})}function u({className:e,size:s="default",children:t,...i}){return(0,r.jsxs)(a.l9,{"data-slot":"select-trigger","data-size":s,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[t,(0,r.jsx)(a.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function h({className:e,children:s,position:t="popper",...n}){return(0,r.jsx)(a.ZL,{children:(0,r.jsxs)(a.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...n,children:[(0,r.jsx)(x,{}),(0,r.jsx)(a.LM,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,r.jsx)(m,{})]})})}function p({className:e,children:s,...t}){return(0,r.jsxs)(a.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...t,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(a.VF,{children:(0,r.jsx)(i.A,{className:"size-4"})})}),(0,r.jsx)(a.p4,{children:s})]})}function x({className:e,...s}){return(0,r.jsx)(a.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(l.A,{className:"size-4"})})}function m({className:e,...s}){return(0,r.jsx)(a.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(n.A,{className:"size-4"})})}},12572:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(55547).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/courses/create/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/courses/create/page.tsx","default")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},26348:(e,s,t)=>{"use strict";t.d(s,{T:()=>n});var r=t(21551);t(70794);var a=t(3413);function n({className:e,...s}){return(0,r.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32947:(e,s,t)=>{"use strict";t.r(s),t.d(s,{"408a5c0d8d6aa59b6c53d5768ea98257ef822c56f2":()=>c});var r=t(11311);t(89335);var a=t(48502),n=t(97856),i=t(79627),l=t(97714),o=t(63388);async function c(e){let s=await (0,a.li)();if(!s||"admin"!==s.user.role&&"teacher"!==s.user.role)return{status:"error",message:"Unauthorized: You must be a teacher or admin to create a course"};try{let t=await (0,n.f)(s.user.id);if(!t.success)return{status:"error",message:t.error||"Security check failed"};let r=o.f_.safeParse(e);if(!r.success)return{status:"error",message:"Invalid Form Data"};let a=null;try{a=(await l._.products.create({name:r.data.title,description:r.data.smallDescription,default_price_data:{currency:"usd",unit_amount:100*r.data.price}})).default_price}catch(e){console.error("Stripe creation failed (continuing with dummy ID):",e)}return await i.z.course.create({data:{...r.data,user:{connect:{id:s?.user.id}},stripePriceId:a}}),{status:"success",message:"Course created succesfully"}}catch(e){return console.error("Course creation error:",e),{status:"error",message:e.message||"Failed to create course"}}}(0,t(68675).D)([c]),(0,r.A)(c,"408a5c0d8d6aa59b6c53d5768ea98257ef822c56f2",null)},33873:e=>{"use strict";e.exports=require("path")},34306:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=t(6855),a=t(99880),n=t(44858),i=t.n(n),l=t(84637),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c={children:["",{children:["teacher",{children:["courses",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,12572)),"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/courses/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,96583)),"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,46345)),"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,68166)),"/Users/sanket/Documents/LMS-Organomed copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,42260,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/sanket/Documents/LMS-Organomed copy/app/teacher/courses/create/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/teacher/courses/create/page",pathname:"/teacher/courses/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},34631:e=>{"use strict";e.exports=require("tls")},35979:()=>{},36210:(e,s,t)=>{Promise.resolve().then(t.bind(t,97771))},37067:e=>{"use strict";e.exports=require("node:http")},41001:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r={src:"/_next/static/media/logo.c044e8c3.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEXceFnYdVfYdVXagGPdh2veeFfWbUzfkHf349zpsJ79+Pfsva7joIr6HBqnAAAAAnRSTlPrVdAYQmQAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA4SURBVHicHcvHEcBADMNACqKCQ//1es4/PBYKASikSjtLIk3PIFy899XC5P6R6d3h4HkOPnuj+AAg7gD3JHdpgQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},41910:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(53525).A)("outline","book","IconBook",[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]])},44708:e=>{"use strict";e.exports=require("node:https")},46037:(e,s,t)=>{Promise.resolve().then(t.bind(t,12572))},46345:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(44789),a=t(62309);function n(){return(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(a.E,{className:"h-8 w-64"}),(0,r.jsx)(a.E,{className:"h-4 w-full max-w-md"})]}),(0,r.jsx)(a.E,{className:"h-10 w-32"})]}),(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-3",children:Array.from({length:3}).map((e,s)=>(0,r.jsx)(a.E,{className:"h-32 rounded-xl"},s))}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(a.E,{className:"h-10 w-full rounded-lg"}),Array.from({length:5}).map((e,s)=>(0,r.jsx)(a.E,{className:"h-20 w-full rounded-lg"},s))]})]})}},51499:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(6852),a=t(22929);function n(...e){return(0,a.QP)((0,r.$)(e))}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57975:e=>{"use strict";e.exports=require("node:util")},62309:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var r=t(44789),a=t(51499);function n({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"skeleton",className:(0,a.cn)("bg-accent animate-pulse rounded-md",e),...s})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71499:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(53525).A)("outline","calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]])},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80112:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(45691).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},81630:e=>{"use strict";e.exports=require("http")},86329:(e,s,t)=>{"use strict";t.d(s,{m:()=>a});var r=t(71207);let a=()=>({triggerConfetti:()=>{let e={origin:{y:.7}};function s(s,t){(0,r.A)({...e,...t,particleCount:Math.floor(200*s)})}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})}})},87893:(e,s,t)=>{Promise.resolve().then(t.bind(t,3040))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95651:()=>{},96298:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(53525).A)("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]])},96330:e=>{"use strict";e.exports=require("@prisma/client")},96458:(e,s,t)=>{Promise.resolve().then(t.bind(t,96583))},96583:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(55547).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/layout.tsx","default")},97714:(e,s,t)=>{"use strict";t.d(s,{_:()=>i});var r=t(83552),a=t(22858);let n=process.env.SKIP_ENV_VALIDATION?"sk_test_dummy_key_for_build":a._.STRIPE_SECRET_KEY,i=new r.A(n,{apiVersion:"2025-05-28.basil",typescript:!0})},97771:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>H});var r=t(21551),a=t(70794),n=t(35479),i=t(53525),l=(0,i.A)("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]),o=t(41910),c=(0,i.A)("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),d=t(50082),u=t(30519),h=t(602),p=(0,i.A)("outline","shield","IconShield",[["path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3",key:"svg-0"}]]),x=t(94434),m=t(28724),f=t(14722),g=t(96298),v=t(94),j=t(71499),b=t(74238),y=t(81761),A=t(41001),w=t(86687),N=t(72296),k=t(89593),C=t(84294),M=t(534),z=t.n(M),P=t(13962);let S={navMain:[{title:"Dashboard",url:"/teacher",icon:n.A},{title:"Profile",url:"/teacher/profile",icon:l},{title:"My Courses",url:"/teacher/courses",icon:o.A},{title:"Create Course",url:"/teacher/courses/create",icon:c},{title:"Live Sessions",url:"/teacher/sessions",icon:d.A},{title:"Students",url:"/teacher/students",icon:u.A},{title:"Analytics",url:"/teacher/analytics",icon:h.A},{title:"Profile Verification",url:"/teacher/verification",icon:p},{title:"Payouts & Earnings",url:"/teacher/payouts",icon:x.A},{title:"Quizzes",url:"/teacher/quizzes",icon:m.A},{title:"Resources",url:"/teacher/resources",icon:f.A},{title:"Messages",url:"/teacher/messages",icon:g.A},{title:"Notifications",url:"/teacher/notifications",icon:v.A},{title:"Calendar",url:"/teacher/calendar",icon:j.A}],navSecondary:[{title:"Settings",url:"/teacher/settings",icon:b.A},{title:"Get Help",url:"/teacher/help",icon:m.A},{title:"Search",url:"#",icon:y.A}]};function _({...e}){return(0,r.jsxs)(C.Bx,{collapsible:"offcanvas",...e,children:[(0,r.jsx)(C.Gh,{children:(0,r.jsx)(C.wZ,{children:(0,r.jsx)(C.FX,{children:(0,r.jsx)(C.Uj,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:(0,r.jsxs)(z(),{href:"/teacher",children:[(0,r.jsx)(P.default,{src:A.default,alt:"Logo",className:"size-5"}),(0,r.jsx)("span",{className:"text-base font-semibold",children:"KIDOKOOL."})]})})})})}),(0,r.jsxs)(C.Yv,{children:[(0,r.jsx)(w.J,{items:S.navMain}),(0,r.jsx)(N.e,{items:S.navSecondary,className:"mt-auto"})]}),(0,r.jsx)(C.CG,{children:(0,r.jsx)(k.r,{})})]})}var q=t(39461),R=t(26864),I=t(80112),D=t(3413);function V({...e}){return(0,r.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function B({className:e,...s}){return(0,r.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,D.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...s})}function E({className:e,...s}){return(0,r.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,D.cn)("inline-flex items-center gap-1.5",e),...s})}function U({asChild:e,className:s,...t}){let a=e?R.DX:"a";return(0,r.jsx)(a,{"data-slot":"breadcrumb-link",className:(0,D.cn)("hover:text-foreground transition-colors",s),...t})}function L({className:e,...s}){return(0,r.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,D.cn)("text-foreground font-normal",e),...s})}function T({children:e,className:s,...t}){return(0,r.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,D.cn)("[&>svg]:size-3.5",s),...t,children:e??(0,r.jsx)(I.A,{})})}var O=t(16226),J=t(31965),F=t(97662),G=t(3910);function H({children:e}){let{data:s,isPending:t}=(0,O.A)();(0,J.useRouter)();let[n,i]=(0,a.useState)(!1);return!n||t?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(F.A,{className:"h-8 w-8 animate-spin"})}):s&&("teacher"===s.user.role||"admin"===s.user.role)?(0,r.jsxs)(C.GB,{children:[(0,r.jsx)(_,{}),(0,r.jsxs)(C.sF,{children:[(0,r.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,r.jsx)(C.x2,{className:"-ml-1"}),(0,r.jsx)(q.Separator,{orientation:"vertical",className:"mr-2 h-4"}),(0,r.jsx)(V,{children:(0,r.jsxs)(B,{children:[(0,r.jsx)(E,{className:"hidden md:block",children:(0,r.jsx)(U,{href:"/teacher",children:"Teacher Dashboard"})}),(0,r.jsx)(T,{className:"hidden md:block"}),(0,r.jsx)(E,{children:(0,r.jsx)(L,{children:"Dashboard"})})]})}),(0,r.jsx)("div",{className:"ml-auto flex items-center gap-2",children:(0,r.jsx)(G.U,{})})]}),(0,r.jsx)("div",{className:"flex flex-1 flex-col gap-4 p-4",children:e})]})]}):null}},97856:(e,s,t)=>{"use strict";t.d(s,{f:()=>i});class r{check(e,s){let t=Date.now(),r=`${e}:${s.windowMs}`,a=this.store.get(r);return!a||t>a.resetTime?(this.store.set(r,{count:1,resetTime:t+s.windowMs}),!0):!(a.count>=s.maxRequests)&&(a.count++,this.store.set(r,a),!0)}cleanup(){let e=Date.now();for(let[s,t]of this.store.entries())e>t.resetTime&&this.store.delete(s)}constructor(){this.store=new Map}}let a=new r;async function n(e,s,t={maxRequests:10,windowMs:6e4}){return!function(e){let s=e.headers.get("user-agent")?.toLowerCase()||"";return["bot","crawler","spider","scraper","curl","wget","python","java","go-http","okhttp","axios","postman","insomnia"].some(e=>s.includes(e))}(e)?a.check(s,t)?{success:!0}:{success:!1,error:"You have been blocked due to rate limiting",status:429}:{success:!1,error:"You are a bot! If this is a mistake, contact our support",status:403}}async function i(e){let s=new Request("https://example.com",{headers:{"user-agent":"Next.js Server Action"}}),t=await n(s,`admin:${e}`,{maxRequests:5,windowMs:6e4});return{success:t.success,error:t.error}}setInterval(()=>a.cleanup(),3e5)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[7991,1123,9716,5130,32,6972,6726,4213,6727,1167,817,5757,3781,8825,2278,2148,1207,3186,580,2730,3027],()=>t(34306));module.exports=r})();