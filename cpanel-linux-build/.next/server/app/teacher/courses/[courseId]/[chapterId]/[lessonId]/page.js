(()=>{var e={};e.id=6144,e.ids=[6144],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3444:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>l});var t=r(6855),a=r(99880),n=r(44858),i=r.n(n),o=r(84637),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(s,c);let l={children:["",{children:["teacher",{children:["courses",{children:["[courseId]",{children:["[chapterId]",{children:["[lessonId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,53195)),"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/courses/[courseId]/[chapterId]/[lessonId]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,96583)),"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,46345)),"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,68166)),"/Users/sanket/Documents/LMS-Organomed copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,42260,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/sanket/Documents/LMS-Organomed copy/app/teacher/courses/[courseId]/[chapterId]/[lessonId]/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/teacher/courses/[courseId]/[chapterId]/[lessonId]/page",pathname:"/teacher/courses/[courseId]/[chapterId]/[lessonId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4573:e=>{"use strict";e.exports=require("node:buffer")},10766:(e,s,r)=>{"use strict";r.d(s,{LessonForm:()=>t});let t=(0,r(55547).registerClientReference)(function(){throw Error("Attempted to call LessonForm() from the server but LessonForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/courses/[courseId]/[chapterId]/[lessonId]/_components/LessonForm.tsx","LessonForm")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12185:(e,s,r)=>{Promise.resolve().then(r.bind(r,60238))},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35979:()=>{},36210:(e,s,r)=>{Promise.resolve().then(r.bind(r,97771))},37067:e=>{"use strict";e.exports=require("node:http")},41001:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t={src:"/_next/static/media/logo.c044e8c3.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEXceFnYdVfYdVXagGPdh2veeFfWbUzfkHf349zpsJ79+Pfsva7joIr6HBqnAAAAAnRSTlPrVdAYQmQAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA4SURBVHicHcvHEcBADMNACqKCQ//1es4/PBYKASikSjtLIk3PIFy899XC5P6R6d3h4HkOPnuj+AAg7gD3JHdpgQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},41910:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var t=(0,r(53525).A)("outline","book","IconBook",[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]])},44708:e=>{"use strict";e.exports=require("node:https")},46345:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(44789),a=r(62309);function n(){return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(a.E,{className:"h-8 w-64"}),(0,t.jsx)(a.E,{className:"h-4 w-full max-w-md"})]}),(0,t.jsx)(a.E,{className:"h-10 w-32"})]}),(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-3",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)(a.E,{className:"h-32 rounded-xl"},s))}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(a.E,{className:"h-10 w-full rounded-lg"}),Array.from({length:5}).map((e,s)=>(0,t.jsx)(a.E,{className:"h-20 w-full rounded-lg"},s))]})]})}},51499:(e,s,r)=>{"use strict";r.d(s,{cn:()=>n});var t=r(6852),a=r(22929);function n(...e){return(0,a.QP)((0,t.$)(e))}},53195:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(44789),a=r(82834),n=r(10766);async function i({params:e}){let{chapterId:s,courseId:r,lessonId:i}=await e,o=await (0,a.u)(i);return(0,t.jsx)(n.LessonForm,{data:o,chapterId:s,courseId:r})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57975:e=>{"use strict";e.exports=require("node:util")},60238:(e,s,r)=>{"use strict";r.d(s,{LessonForm:()=>b});var t=r(21551),a=r(90778),n=r(34460),i=r(17985),o=r(95863),c=r(534),l=r.n(c),d=r(68376),u=r(64722),h=r(32520),p=r(552),m=r(18056),x=r(14674),v=r(70794),f=r(43532),g=r(40875);let j=(0,g.createServerReference)("60facf3dfcee7bd99dd165e02eb895968b313e0417",g.callServer,void 0,g.findSourceMapURL,"updateLesson");var A=r(77111);function b({chapterId:e,data:s,courseId:r}){let[c,g]=(0,v.useTransition)(),b=(0,d.mN)({resolver:(0,u.u)(i.qz),defaultValues:{name:s.title,chapterId:e,courseId:r,description:s.description??void 0,videoKey:s.videoKey??void 0,thumbnailKey:s.thumbnailKey??void 0}});return(0,t.jsxs)("div",{children:[(0,t.jsxs)(l(),{className:(0,a.r)({variant:"outline",className:"mb-6"}),href:`/teacher/courses/${r}/edit`,children:[(0,t.jsx)(o.A,{className:"size-4"}),(0,t.jsx)("span",{children:"Go Back"})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Lesson Configuration"}),(0,t.jsx)(n.BT,{children:"Configure the video and description for this lesson."})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.lV,{...b,children:(0,t.jsxs)("form",{onSubmit:b.handleSubmit(function(e){g(async()=>{let{data:r,error:t}=await (0,f.T)(j(e,s.id));if(t)return void A.oR.error("An unexpected error occurred. Please try again.");"success"===r.status?A.oR.success(r.message):"error"===r.status&&A.oR.error(r.message)})}),className:"space-y-6",children:[(0,t.jsx)(h.zB,{control:b.control,name:"name",render:({field:e})=>(0,t.jsxs)(h.eI,{children:[(0,t.jsx)(h.lR,{children:"Lesson Name"}),(0,t.jsx)(h.MJ,{children:(0,t.jsx)(p.p,{placeholder:"Chapter xyz",...e})}),(0,t.jsx)(h.C5,{})]})}),(0,t.jsx)(h.zB,{control:b.control,name:"description",render:({field:e})=>(0,t.jsxs)(h.eI,{children:[(0,t.jsx)(h.lR,{children:"Description"}),(0,t.jsx)(h.MJ,{children:(0,t.jsx)(m.d,{field:e})}),(0,t.jsx)(h.C5,{})]})}),(0,t.jsx)(h.zB,{control:b.control,name:"thumbnailKey",render:({field:e})=>(0,t.jsxs)(h.eI,{children:[(0,t.jsx)(h.lR,{children:"Thumbnail image"}),(0,t.jsx)(h.MJ,{children:(0,t.jsx)(x.d,{fileTypeAccepted:"image",onChange:e.onChange,value:e.value})}),(0,t.jsx)(h.C5,{})]})}),(0,t.jsx)(h.zB,{control:b.control,name:"videoKey",render:({field:e})=>(0,t.jsxs)(h.eI,{children:[(0,t.jsx)(h.lR,{children:"Video File"}),(0,t.jsx)(h.MJ,{children:(0,t.jsx)(x.d,{onChange:e.onChange,value:e.value,fileTypeAccepted:"video"})}),(0,t.jsx)(h.C5,{})]})}),(0,t.jsx)(a.$,{disabled:c,type:"submit",children:c?"Saving..":"Save Lesson"})]})})})]})]})}},61871:(e,s,r)=>{"use strict";r.r(s),r.d(s,{"60facf3dfcee7bd99dd165e02eb895968b313e0417":()=>c});var t=r(11311);r(89335);var a=r(76280),n=r(48502),i=r(79627),o=r(63388);async function c(e,s){let r=await (0,n.yl)();try{let t=o.qz.safeParse(e);if(!t.success)return{status:"error",message:"Invalid data"};let n=await i.z.lesson.findUnique({where:{id:s},include:{Chapter:{select:{courseId:!0,Course:{select:{userId:!0}}}}}});if(!n)return{status:"error",message:"Lesson not found"};if("teacher"===r.user.role&&n.Chapter.Course.userId!==r.user.id)return{status:"error",message:"Unauthorized"};return await i.z.lesson.update({where:{id:s},data:{title:t.data.name,description:t.data.description,thumbnailKey:t.data.thumbnailKey,videoKey:t.data.videoKey}}),n.Chapter.courseId&&(0,a.revalidatePath)(`/teacher/courses/${n.Chapter.courseId}/edit`),{status:"success",message:"Lesson updated successfully"}}catch(e){return console.error("Lesson update error:",e),{status:"error",message:e.message||"Failed to update lesson"}}}(0,r(68675).D)([c]),(0,t.A)(c,"60facf3dfcee7bd99dd165e02eb895968b313e0417",null)},62309:(e,s,r)=>{"use strict";r.d(s,{E:()=>n});var t=r(44789),a=r(51499);function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,a.cn)("bg-accent animate-pulse rounded-md",e),...s})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71499:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var t=(0,r(53525).A)("outline","calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]])},74075:e=>{"use strict";e.exports=require("zlib")},75737:(e,s,r)=>{Promise.resolve().then(r.bind(r,10766))},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80112:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(45691).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95651:()=>{},96298:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var t=(0,r(53525).A)("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]])},96330:e=>{"use strict";e.exports=require("@prisma/client")},96458:(e,s,r)=>{Promise.resolve().then(r.bind(r,96583))},96583:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(55547).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/app/teacher/layout.tsx","default")},97771:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>V});var t=r(21551),a=r(70794),n=r(35479),i=r(53525),o=(0,i.A)("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]),c=r(41910),l=(0,i.A)("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),d=r(50082),u=r(30519),h=r(602),p=(0,i.A)("outline","shield","IconShield",[["path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3",key:"svg-0"}]]),m=r(94434),x=r(28724),v=r(14722),f=r(96298),g=r(94),j=r(71499),A=r(74238),b=r(81761),y=r(41001),k=r(86687),I=r(72296),M=r(89593),C=r(84294),N=r(534),q=r.n(N),P=r(13962);let w={navMain:[{title:"Dashboard",url:"/teacher",icon:n.A},{title:"Profile",url:"/teacher/profile",icon:o},{title:"My Courses",url:"/teacher/courses",icon:c.A},{title:"Create Course",url:"/teacher/courses/create",icon:l},{title:"Live Sessions",url:"/teacher/sessions",icon:d.A},{title:"Students",url:"/teacher/students",icon:u.A},{title:"Analytics",url:"/teacher/analytics",icon:h.A},{title:"Profile Verification",url:"/teacher/verification",icon:p},{title:"Payouts & Earnings",url:"/teacher/payouts",icon:m.A},{title:"Quizzes",url:"/teacher/quizzes",icon:x.A},{title:"Resources",url:"/teacher/resources",icon:v.A},{title:"Messages",url:"/teacher/messages",icon:f.A},{title:"Notifications",url:"/teacher/notifications",icon:g.A},{title:"Calendar",url:"/teacher/calendar",icon:j.A}],navSecondary:[{title:"Settings",url:"/teacher/settings",icon:A.A},{title:"Get Help",url:"/teacher/help",icon:x.A},{title:"Search",url:"#",icon:b.A}]};function S({...e}){return(0,t.jsxs)(C.Bx,{collapsible:"offcanvas",...e,children:[(0,t.jsx)(C.Gh,{children:(0,t.jsx)(C.wZ,{children:(0,t.jsx)(C.FX,{children:(0,t.jsx)(C.Uj,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:(0,t.jsxs)(q(),{href:"/teacher",children:[(0,t.jsx)(P.default,{src:y.default,alt:"Logo",className:"size-5"}),(0,t.jsx)("span",{className:"text-base font-semibold",children:"KIDOKOOL."})]})})})})}),(0,t.jsxs)(C.Yv,{children:[(0,t.jsx)(k.J,{items:w.navMain}),(0,t.jsx)(I.e,{items:w.navSecondary,className:"mt-auto"})]}),(0,t.jsx)(C.CG,{children:(0,t.jsx)(M.r,{})})]})}var L=r(39461),z=r(26864),R=r(80112),U=r(3413);function D({...e}){return(0,t.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function E({className:e,...s}){return(0,t.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,U.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...s})}function B({className:e,...s}){return(0,t.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,U.cn)("inline-flex items-center gap-1.5",e),...s})}function _({asChild:e,className:s,...r}){let a=e?z.DX:"a";return(0,t.jsx)(a,{"data-slot":"breadcrumb-link",className:(0,U.cn)("hover:text-foreground transition-colors",s),...r})}function K({className:e,...s}){return(0,t.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,U.cn)("text-foreground font-normal",e),...s})}function F({children:e,className:s,...r}){return(0,t.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,U.cn)("[&>svg]:size-3.5",s),...r,children:e??(0,t.jsx)(R.A,{})})}var O=r(16226),G=r(31965),J=r(97662),T=r(3910);function V({children:e}){let{data:s,isPending:r}=(0,O.A)();(0,G.useRouter)();let[n,i]=(0,a.useState)(!1);return!n||r?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(J.A,{className:"h-8 w-8 animate-spin"})}):s&&("teacher"===s.user.role||"admin"===s.user.role)?(0,t.jsxs)(C.GB,{children:[(0,t.jsx)(S,{}),(0,t.jsxs)(C.sF,{children:[(0,t.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,t.jsx)(C.x2,{className:"-ml-1"}),(0,t.jsx)(L.Separator,{orientation:"vertical",className:"mr-2 h-4"}),(0,t.jsx)(D,{children:(0,t.jsxs)(E,{children:[(0,t.jsx)(B,{className:"hidden md:block",children:(0,t.jsx)(_,{href:"/teacher",children:"Teacher Dashboard"})}),(0,t.jsx)(F,{className:"hidden md:block"}),(0,t.jsx)(B,{children:(0,t.jsx)(K,{children:"Dashboard"})})]})}),(0,t.jsx)("div",{className:"ml-auto flex items-center gap-2",children:(0,t.jsx)(T.U,{})})]}),(0,t.jsx)("div",{className:"flex flex-1 flex-col gap-4 p-4",children:e})]})]}):null}}};var s=require("../../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[7991,2692,1135,3831,1123,9716,5130,32,6972,6726,4213,6727,1167,817,5757,6280,3781,2278,2148,580,2730,3027,5284],()=>r(3444));module.exports=t})();