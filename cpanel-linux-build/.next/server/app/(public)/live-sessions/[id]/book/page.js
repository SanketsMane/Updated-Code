(()=>{var e={};e.id=4566,e.ids=[4566,9809],e.modules={1036:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var s=r(6852);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=s.$,a=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(e=>{let t=null==r?void 0:r[e],s=null==o?void 0:o[e];if(null===t)return null;let i=n(t)||n(s);return a[e][i]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return i(e,l,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...d}[t]):({...o,...d})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},2578:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13838:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},14985:e=>{"use strict";e.exports=require("dns")},15637:(e,t,r)=>{"use strict";r.d(t,{BookingPageClient:()=>s});let s=(0,r(55547).registerClientReference)(function(){throw Error("Attempted to call BookingPageClient() from the server but BookingPageClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/app/(public)/live-sessions/[id]/book/_components/BookingPageClient.tsx","BookingPageClient")},15786:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(57226);async function n(e){try{if(!process.env.EMAIL_HOST&&!process.env.EMAIL_USER)return console.log("---------------------------------------------------"),console.log("EMAIL SENT (MOCKED):"),console.log("To:",e.to),console.log("Subject:",e.subject),console.log("---------------------------------------------------"),!0;let t="gmail"===process.env.EMAIL_SERVICE?s.createTransport({service:"gmail",auth:{user:process.env.EMAIL_USER||"",pass:process.env.EMAIL_PASS||""}}):s.createTransport({host:process.env.EMAIL_HOST,port:parseInt(process.env.EMAIL_PORT||"587"),secure:"true"===process.env.EMAIL_SECURE,auth:{user:process.env.EMAIL_USER||"",pass:process.env.EMAIL_PASS||""}}),r={from:e.from||process.env.EMAIL_FROM||process.env.EMAIL_USER,to:e.to,subject:e.subject,html:e.html},n=await t.sendMail(r);return console.log("Email sent successfully:",n.messageId),!0}catch(e){return console.error("Error sending email:",e),!1}}},16277:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(44789),n=r(81436),i=r(37086),a=r(49522),o=r(43831),l=r(15637);async function d(e){let t=await i.z.liveSession.findUnique({where:{id:e},include:{teacher:{include:{user:{select:{name:!0,image:!0}}}},_count:{select:{bookings:{where:{status:"confirmed"}}}}}});return t||(0,n.notFound)(),t}async function c(e){let t=await e.params,r=await a.j.api.getSession({headers:await (0,o.headers)()});r?.user||(0,n.redirect)(`/login?redirect=/live-sessions/${t.id}/book`);let c=await d(t.id);return"scheduled"!==c.status&&(0,n.redirect)(`/live-sessions/${t.id}`),await i.z.sessionBooking.findFirst({where:{sessionId:c.id,studentId:r.user.id,status:{in:["confirmed","pending"]}}})&&(0,n.redirect)("/dashboard/sessions"),c.maxParticipants&&c._count.bookings>=c.maxParticipants&&(0,n.redirect)(`/live-sessions/${t.id}`),(0,s.jsx)(l.BookingPageClient,{session:c})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21317:(e,t,r)=>{Promise.resolve().then(r.bind(r,15637))},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28539:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29477:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},31965:(e,t,r)=>{"use strict";var s=r(56333);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},33664:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},33873:e=>{"use strict";e.exports=require("path")},34469:(e,t,r)=>{Promise.resolve().then(r.bind(r,61371))},34631:e=>{"use strict";e.exports=require("tls")},37010:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,a.isNextRouterError)(t)||(0,i.isBailoutToCSRError)(t)||(0,l.isDynamicServerError)(t)||(0,o.isDynamicPostpone)(t)||(0,n.isPostpone)(t)||(0,s.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let s=r(7412),n=r(55277),i=r(55798),a=r(33642),o=r(91707),l=r(38175);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},37067:e=>{"use strict";e.exports=require("node:http")},37086:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var s=r(96330);let n=global.prisma||new s.PrismaClient},38824:(e,t,r)=>{"use strict";r.d(t,{x:()=>l});var s=r(21551),n=r(70794),i=r(13351),a=r(69473),o=r(97446);function l({children:e,isValidProp:t,...r}){t&&(0,a.D)(t),(r={...(0,n.useContext)(i.Q),...r}).isStatic=(0,o.M)(()=>r.isStatic);let l=(0,n.useMemo)(()=>r,[JSON.stringify(r.transition),r.transformPagePoint,r.reducedMotion]);return(0,s.jsx)(i.Q.Provider,{value:l,children:e})}},40051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return s}});let s=r(37010).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},41148:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41857:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(99717).A)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},44708:e=>{"use strict";e.exports=require("node:https")},49522:(e,t,r)=>{"use strict";r.d(t,{j:()=>d});var s=r(85817),n=r(95027),i=r(37086),a=r(94149),o=r(37628),l=r(15786);let d=(0,s.li)({database:(0,n._)(i.z,{provider:"postgresql"}),trustedOrigins:["http://localhost:3000","http://localhost:3001","http://localhost:3002","http://localhost:3003"],socialProviders:{github:{clientId:a._.AUTH_GITHUB_CLIENT_ID,clientSecret:a._.AUTH_GITHUB_SECRET}},emailAndPassword:{enabled:!0},user:{additionalFields:{role:{type:"string"}}},plugins:[(0,o.yI)({async sendVerificationOTP({email:e,otp:t}){await (0,l.Z)({to:e,subject:"KIDOKOOL - Verify your email",html:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
              <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px 20px; text-align: center; border-radius: 10px; margin-bottom: 30px;">
                <h1>üîê Email Verification</h1>
              </div>
              <p>Hi there,</p>
              <p>Please use the following OTP to verify your email address:</p>
              <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center; margin: 20px 0; border-left: 4px solid #667eea;">
                <h2 style="color: #667eea; font-size: 36px; margin: 0; letter-spacing: 4px;">${t}</h2>
              </div>
              <p>This OTP will expire in 10 minutes for security reasons.</p>
              <div style="text-align: center; margin-top: 30px; color: #666; font-size: 14px;">
                <p>If you didn't request this verification, please ignore this email.</p>
              </div>
            </div>
          `})}}),(0,o.wr)()]})},49753:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var s=r(21551);r(70794);var n=r(50633),i=r(21876),a=r(3413);function o({className:e,...t}){return(0,s.jsx)(n.bL,{"data-slot":"checkbox",className:(0,a.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,s.jsx)(n.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(i.A,{className:"size-3.5"})})})}},50633:(e,t,r)=>{"use strict";r.d(t,{C1:()=>E,bL:()=>j});var s=r(70794),n=r(89280),i=r(87926),a=r(97812),o=r(48891),l=r(87467),d=r(70331),c=r(4403),u=r(68463),p=r(21551),h="Checkbox",[f,m]=(0,i.A)(h),[x,y]=f(h);function g(e){let{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:l,name:d,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:m}=e,[y,g]=(0,o.i)({prop:r,defaultProp:i??!1,onChange:c,caller:h}),[v,b]=s.useState(null),[j,_]=s.useState(null),E=s.useRef(!1),R=!v||!!l||!!v.closest("form"),k={checked:y,disabled:a,setChecked:g,control:v,setControl:b,name:d,form:l,value:f,hasConsumerStoppedPropagationRef:E,required:u,defaultChecked:!A(i)&&i,isFormControl:R,bubbleInput:j,setBubbleInput:_};return(0,p.jsx)(x,{scope:t,...k,children:"function"==typeof m?m(k):n})}var v="CheckboxTrigger",b=s.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...i},o)=>{let{control:l,value:d,disabled:c,checked:h,required:f,setControl:m,setChecked:x,hasConsumerStoppedPropagationRef:g,isFormControl:b,bubbleInput:j}=y(v,e),_=(0,n.s)(o,m),E=s.useRef(h);return s.useEffect(()=>{let e=l?.form;if(e){let t=()=>x(E.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,x]),(0,p.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":A(h)?"mixed":h,"aria-required":f,"data-state":P(h),"data-disabled":c?"":void 0,disabled:c,value:d,...i,ref:_,onKeyDown:(0,a.m)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,a.m)(r,e=>{x(e=>!!A(e)||!e),j&&b&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});b.displayName=v;var j=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:s,checked:n,defaultChecked:i,required:a,disabled:o,value:l,onCheckedChange:d,form:c,...u}=e;return(0,p.jsx)(g,{__scopeCheckbox:r,checked:n,defaultChecked:i,disabled:o,required:a,onCheckedChange:d,name:s,form:c,value:l,internal_do_not_use_render:({isFormControl:e})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(b,{...u,ref:t,__scopeCheckbox:r}),e&&(0,p.jsx)(k,{__scopeCheckbox:r})]})})});j.displayName=h;var _="CheckboxIndicator",E=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...n}=e,i=y(_,r);return(0,p.jsx)(c.C,{present:s||A(i.checked)||!0===i.checked,children:(0,p.jsx)(u.sG.span,{"data-state":P(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});E.displayName=_;var R="CheckboxBubbleInput",k=s.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:i,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:c,required:h,disabled:f,name:m,value:x,form:g,bubbleInput:v,setBubbleInput:b}=y(R,e),j=(0,n.s)(r,b),_=(0,l.Z)(o),E=(0,d.X)(i);s.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!a.current;if(_!==o&&e){let r=new Event("click",{bubbles:t});v.indeterminate=A(o),e.call(v,!A(o)&&o),v.dispatchEvent(r)}},[v,_,o,a]);let k=s.useRef(!A(o)&&o);return(0,p.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??k.current,required:h,disabled:f,name:m,value:x,form:g,...t,tabIndex:-1,ref:j,style:{...t.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function A(e){return"indeterminate"===e}function P(e){return A(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=R},52225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return a},getRedirectStatusCodeFromError:function(){return u},getRedirectTypeFromError:function(){return c},getURLFromRedirectError:function(){return d},permanentRedirect:function(){return l},redirect:function(){return o}});let s=r(3348),n=r(62098),i=r(19121).actionAsyncStorage;function a(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let i=Object.defineProperty(Error(n.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i.digest=n.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",i}function o(e,t){var r;throw null!=t||(t=(null==i||null==(r=i.getStore())?void 0:r.isAction)?n.RedirectType.push:n.RedirectType.replace),a(e,t,s.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=n.RedirectType.replace),a(e,t,s.RedirectStatusCode.PermanentRedirect)}function d(e){return(0,n.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function c(e){if(!(0,n.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function u(e){if(!(0,n.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},52824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return c},RedirectType:function(){return n.RedirectType},forbidden:function(){return a.forbidden},notFound:function(){return i.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect},unauthorized:function(){return o.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow}});let s=r(52225),n=r(62098),i=r(71197),a=r(96416),o=r(62691),l=r(40051);class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class c extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},53359:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(99717).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},53422:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(99717).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},54381:(e,t,r)=>{"use strict";r.d(t,{DX:()=>a});var s=r(25360);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var i=r(44789),a=function(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:r,...i}=e;if(s.isValidElement(r)){var a;let e,o,l=(a=r,(o=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(o=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),d=function(e,t){let r={...t};for(let s in t){let n=e[s],i=t[s];/^on[A-Z]/.test(s)?n&&i?r[s]=(...e)=>{let t=i(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...i}:"className"===s&&(r[s]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==s.Fragment&&(d.ref=t?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=n(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():n(e[t],null)}}}}(t,l):l),s.cloneElement(r,d)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:n,...a}=e,o=s.Children.toArray(n),d=o.find(l);if(d){let e=d.props.children,n=o.map(t=>t!==d?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...a,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,i.jsx)(t,{...a,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}("Slot"),o=Symbol("radix.slottable");function l(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57975:e=>{"use strict";e.exports=require("node:util")},61371:(e,t,r)=>{"use strict";r.d(t,{BookingPageClient:()=>E});var s=r(21551),n=r(70794),i=r(31965),a=r(34460),o=r(90778),l=r(49753),d=r(39461),c=r(46897),u=r(85449),p=r(95863),h=r(41148),f=r(2578),m=r(94341),x=r(33664),y=r(97662),g=r(61760),v=r(534),b=r.n(v),j=r(72864),_=r(77111);function E({session:e}){(0,i.useRouter)();let[t,r]=(0,n.useState)(!1),[v,E]=(0,n.useState)(!1),[R,k]=(0,n.useState)(!1),A=async()=>{if(!v||!R)return void _.oR.error("Please agree to the terms and refund policy");try{r(!0);let t=await fetch(`/api/sessions/${e.id}/checkout`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create checkout session")}let{url:s}=await t.json();window.location.href=s}catch(e){_.oR.error(e.message),r(!1)}},P=Math.round(.05*e.price),w=e.price;return(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"container mx-auto py-8 max-w-4xl",children:[(0,s.jsx)(b(),{href:`/live-sessions/${e.id}`,children:(0,s.jsxs)(o.$,{variant:"ghost",className:"mb-6",children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Back to Session"]})}),(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Complete Your Booking"}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)(a.Zp,{children:[(0,s.jsx)(a.aR,{children:(0,s.jsx)(a.ZB,{children:"Session Details"})}),(0,s.jsxs)(a.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)(c.Avatar,{className:"h-12 w-12",children:[(0,s.jsx)(c.AvatarImage,{src:e.teacher.user.image||void 0}),(0,s.jsx)(c.AvatarFallback,{children:e.teacher.user.name.charAt(0).toUpperCase()})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(u.E,{variant:"secondary",className:"mb-2",children:e.subject}),(0,s.jsx)("h3",{className:"font-bold text-lg mb-1",children:e.title}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["with ",e.teacher.user.name]})]})]}),(0,s.jsx)(d.Separator,{}),(0,s.jsxs)("div",{className:"space-y-3",children:[e.scheduledAt&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:(0,j.GP)(new Date(e.scheduledAt),"EEEE, MMMM dd, yyyy")}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,j.GP)(new Date(e.scheduledAt),"h:mm a")," (",e.timezone,")"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium",children:[e.duration," minutes"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Live video session"})]})]})]})]})]}),(0,s.jsx)(a.Zp,{className:"border-blue-200 bg-blue-50/50 dark:border-blue-900 dark:bg-blue-950/20",children:(0,s.jsx)(a.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(m.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsx)("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Important Information"}),(0,s.jsxs)("ul",{className:"space-y-1 text-blue-800 dark:text-blue-200",children:[(0,s.jsx)("li",{children:"‚Ä¢ You'll receive a confirmation email with session link"}),(0,s.jsx)("li",{children:"‚Ä¢ Join from any device with internet connection"}),(0,s.jsx)("li",{children:"‚Ä¢ Recording will be available for 7 days"}),(0,s.jsx)("li",{children:"‚Ä¢ Session reminder sent 24 hours before"})]})]})]})})}),(0,s.jsxs)(a.Zp,{children:[(0,s.jsx)(a.aR,{children:(0,s.jsx)(a.ZB,{className:"text-base",children:"Cancellation & Refund Policy"})}),(0,s.jsxs)(a.Wu,{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(x.A,{className:"h-5 w-5 text-green-600 shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Full Refund (100%)"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Cancel 48+ hours before session"})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(x.A,{className:"h-5 w-5 text-yellow-600 shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Partial Refund (50%)"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Cancel 24-48 hours before session"})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(m.A,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"No Refund"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Cancel less than 24 hours before"})]})]})]})]}),(0,s.jsx)(a.Zp,{children:(0,s.jsxs)(a.Wu,{className:"pt-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(l.S,{id:"terms",checked:v,onCheckedChange:e=>E(e)}),(0,s.jsxs)("label",{htmlFor:"terms",className:"text-sm leading-relaxed cursor-pointer",children:["I agree to the"," ",(0,s.jsx)(b(),{href:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",(0,s.jsx)(b(),{href:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(l.S,{id:"refund",checked:R,onCheckedChange:e=>k(e)}),(0,s.jsx)("label",{htmlFor:"refund",className:"text-sm leading-relaxed cursor-pointer",children:"I understand the cancellation and refund policy outlined above"})]})]})})]}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)("div",{className:"sticky top-8",children:(0,s.jsxs)(a.Zp,{children:[(0,s.jsx)(a.aR,{children:(0,s.jsx)(a.ZB,{children:"Order Summary"})}),(0,s.jsxs)(a.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Session Price"}),(0,s.jsxs)("span",{className:"font-medium",children:["$",(e.price/100).toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Platform Fee (5%)"}),(0,s.jsxs)("span",{className:"font-medium",children:["$",(P/100).toFixed(2)]})]}),(0,s.jsx)(d.Separator,{}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"font-bold text-lg",children:"Total"}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"font-bold text-2xl text-green-600",children:["$",(w/100).toFixed(2)]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"USD"})]})]})]}),(0,s.jsx)(o.$,{onClick:A,disabled:t||!v||!R,className:"w-full",size:"lg",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.A,{className:"mr-2 h-5 w-5"}),"Proceed to Payment"]})}),(0,s.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:"You'll be redirected to Stripe for secure payment"})]})]})})})]})]})})}},61760:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},62691:(e,t,r)=>{"use strict";function s(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return s}}),r(96304).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71197:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return n}});let s=""+r(96304).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function n(){let e=Object.defineProperty(Error(s),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=s,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81436:(e,t,r)=>{"use strict";var s=r(52824);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},81630:e=>{"use strict";e.exports=require("http")},84291:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(99717).A)("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]])},87467:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(70794);function n(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},91025:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},91556:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(99717).A)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},91645:e=>{"use strict";e.exports=require("net")},91906:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(99717).A)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},92528:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(6855),n=r(99880),i=r(44858),a=r.n(i),o=r(84637),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["(public)",{children:["live-sessions",{children:["[id]",{children:["book",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,16277)),"/Users/sanket/Documents/LMS-Organomed copy/app/(public)/live-sessions/[id]/book/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,64232)),"/Users/sanket/Documents/LMS-Organomed copy/app/(public)/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,97205)),"/Users/sanket/Documents/LMS-Organomed copy/app/(public)/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,42260,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,68166)),"/Users/sanket/Documents/LMS-Organomed copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,42260,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/sanket/Documents/LMS-Organomed copy/app/(public)/live-sessions/[id]/book/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(public)/live-sessions/[id]/book/page",pathname:"/live-sessions/[id]/book",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},94149:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var s=r(97191),n=r(79082);let i=(0,s.w)({server:{DATABASE_URL:n.z.string().url(),BETTER_AUTH_SECRET:n.z.string().min(1),BETTER_AUTH_URL:n.z.string().url(),AUTH_GITHUB_CLIENT_ID:n.z.string().min(1),AUTH_GITHUB_SECRET:n.z.string().min(1),EMAIL_SERVICE:n.z.string().optional(),EMAIL_HOST:n.z.string().optional(),EMAIL_PORT:n.z.string().optional(),EMAIL_SECURE:n.z.string().optional(),EMAIL_USER:n.z.string().optional(),EMAIL_PASS:n.z.string().optional(),EMAIL_FROM:n.z.string().optional(),AWS_ACCESS_KEY_ID:n.z.string().min(1),AWS_SECRET_ACCESS_KEY:n.z.string().min(1),AWS_ENDPOINT_URL_S3:n.z.string().min(1),AWS_ENDPOINT_URL_IAM:n.z.string().min(1),AWS_REGION:n.z.string().min(1),STRIPE_SECRET_KEY:n.z.string().min(1),STRIPE_WEBHOOK_SECRET:n.z.string().min(1)},skipValidation:!!process.env.SKIP_ENV_VALIDATION,client:{NEXT_PUBLIC_S3_BUCKET_NAME_IMAGES:n.z.string().min(1)},experimental__runtimeEnv:{NEXT_PUBLIC_S3_BUCKET_NAME_IMAGES:"placeholder-bucket"}})},94200:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},94341:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},94735:e=>{"use strict";e.exports=require("events")},95012:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(99717).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},95863:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},96330:e=>{"use strict";e.exports=require("@prisma/client")},96416:(e,t,r)=>{"use strict";function s(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return s}}),r(96304).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},97662:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(45691).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7991,2692,1135,3831,1123,9716,5130,32,6972,4213,6795,8129,2864,580,8782],()=>r(92528));module.exports=s})();