(()=>{var e={};e.id=2126,e.ids=[2126],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19959:(e,r,t)=>{"use strict";t.d(r,{E:()=>c});var s=t(44789);t(25360);var a=t(54381),i=t(1036),n=t(51499);let o=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c({className:e,variant:r,asChild:t=!1,...i}){let c=t?a.DX:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,n.cn)(o({variant:r}),e),...i})}},21820:e=>{"use strict";e.exports=require("os")},23800:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>d});var s=t(6855),a=t(99880),i=t(44858),n=t.n(i),o=t(84637),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);t.d(r,c);let d={children:["",{children:["admin",{children:["team",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,35845)),"/Users/sanket/Documents/LMS-Organomed copy/app/admin/team/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,93794)),"/Users/sanket/Documents/LMS-Organomed copy/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,68166)),"/Users/sanket/Documents/LMS-Organomed copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,42260,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/Users/sanket/Documents/LMS-Organomed copy/app/admin/team/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/team/page",pathname:"/admin/team",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},26585:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var s=(0,t(95310).A)("outline","users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32378:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var s=(0,t(95310).A)("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]])},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35845:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var s=t(44789),a=t(76494),i=t(9158),n=t(62984),o=t(19959),c=t(86579),d=t(44014),l=t(26585),u=t(57252),p=t(64944),h=t(32378),m=t(79923),v=t(37086),x=t(59213);async function f(){await (0,a.Z)();let e=await v.z.user.findMany({where:{role:{in:["admin","teacher"]}},include:{teacherProfile:!0,_count:{select:{enrollment:!0}}},orderBy:{createdAt:"desc"}}),r={admin:"bg-red-100 text-red-800",teacher:"bg-blue-100 text-blue-800",student:"bg-gray-100 text-gray-800"};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Team Management"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage your team members, roles, and permissions"})]}),(0,s.jsxs)(n.$,{className:"flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),"Add Team Member"]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ZB,{className:"text-sm font-medium",children:"Total Members"}),(0,s.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.length})})]}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ZB,{className:"text-sm font-medium",children:"Verified Teachers"}),(0,s.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.filter(e=>e.teacherProfile?.[0]?.isVerified).length})})]}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ZB,{className:"text-sm font-medium",children:"Pending Approval"}),(0,s.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.filter(e=>"teacher"===e.role&&!e.teacherProfile?.[0]?.isVerified).length})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Team Members"}),(0,s.jsx)("div",{className:"grid gap-4",children:e.map(e=>{let t=e.teacherProfile?.[0],a=t?.isVerified;return(0,s.jsxs)(i.Zp,{className:a||"teacher"!==e.role?"":"border-yellow-400 bg-yellow-50/50",children:[(0,s.jsx)(i.aR,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(c.Avatar,{className:"h-12 w-12",children:[(0,s.jsx)(c.AvatarImage,{src:e.image||"",alt:e.name||"User"}),(0,s.jsx)(c.AvatarFallback,{children:e.name?.split(" ").map(e=>e[0]).join("")||"U"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[e.name,(0,s.jsx)(o.E,{variant:"secondary",className:r[e.role]||r.student,children:e.role.toUpperCase()}),a&&(0,s.jsx)(o.E,{variant:"default",className:"bg-green-600 hover:bg-green-700",children:"Verified"})]}),(0,s.jsx)(i.BT,{className:"flex items-center gap-4 mt-1",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(h.A,{className:"h-3 w-3"}),e.email]})})]})]}),(0,s.jsx)("div",{children:"teacher"===e.role&&!a&&t?(0,s.jsx)(x.TeacherActions,{profileId:t.id,userId:e.id}):(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsxs)(n.$,{variant:"outline",size:"sm",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"Edit"]})})})]})}),t&&(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Expertise:"})," ",t.expertise.join(", ")]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Rate:"})," â‚¹",t.hourlyRate?t.hourlyRate/100:0,"/hr"]}),(0,s.jsx)("div",{className:"col-span-2 text-muted-foreground",children:t.bio})]})})]},e.id)})})]})]})}},37067:e=>{"use strict";e.exports=require("node:http")},44014:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var s=(0,t(95310).A)("outline","user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]])},44708:e=>{"use strict";e.exports=require("node:https")},47570:(e,r,t)=>{"use strict";t.d(r,{TeacherActions:()=>m});var s=t(21551),a=t(90778),i=t(77111),n=t(40875);let o=(0,n.createServerReference)("40eabc7a9ebe83377d26828d573999ab9d7cef7f67",n.callServer,void 0,n.findSourceMapURL,"approveTeacher"),c=(0,n.createServerReference)("60e299345a9187d44cb4218602ec61c2c7f89a8737",n.callServer,void 0,n.findSourceMapURL,"rejectTeacher");var d=t(97662),l=t(21876),u=t(37996),p=t(70794),h=t(31965);function m({profileId:e,userId:r}){let[t,n]=(0,p.useState)(!1),m=(0,h.useRouter)(),v=async()=>{n(!0);try{let r=await o(e);if(r.error)throw Error(r.error);i.oR.success("Teacher approved"),m.refresh()}catch{i.oR.error("Failed to approve")}finally{n(!1)}},x=async()=>{n(!0);try{let t=await c(e,r);if(t.error)throw Error(t.error);i.oR.success("Teacher rejected"),m.refresh()}catch{i.oR.error("Failed to reject")}finally{n(!1)}};return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(a.$,{size:"sm",onClick:v,disabled:t,className:"bg-green-600 hover:bg-green-700 text-white",children:[t?(0,s.jsx)(d.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(l.A,{className:"h-4 w-4 mr-1"}),"Approve"]}),(0,s.jsxs)(a.$,{size:"sm",variant:"destructive",onClick:x,disabled:t,children:[t?(0,s.jsx)(d.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(u.A,{className:"h-4 w-4 mr-1"}),"Reject"]})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57252:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var s=(0,t(95310).A)("outline","shield","IconShield",[["path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3",key:"svg-0"}]])},57388:(e,r,t)=>{Promise.resolve().then(t.bind(t,47570)),Promise.resolve().then(t.bind(t,46897))},57975:e=>{"use strict";e.exports=require("node:util")},59213:(e,r,t)=>{"use strict";t.d(r,{TeacherActions:()=>s});let s=(0,t(55547).registerClientReference)(function(){throw Error("Attempted to call TeacherActions() from the server but TeacherActions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/app/admin/team/_components/TeacherActions.tsx","TeacherActions")},62984:(e,r,t)=>{"use strict";t.d(r,{$:()=>c,r:()=>o});var s=t(44789);t(25360);var a=t(54381),i=t(1036),n=t(51499);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c({className:e,variant:r,size:t,asChild:i=!1,...c}){let d=i?a.DX:"button";return(0,s.jsx)(d,{suppressHydrationWarning:!0,"data-slot":"button",className:(0,n.cn)(o({variant:r,size:t,className:e})),...c})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70540:(e,r,t)=>{Promise.resolve().then(t.bind(t,59213)),Promise.resolve().then(t.bind(t,86579))},74075:e=>{"use strict";e.exports=require("zlib")},76494:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var s=t(49522),a=t(43831),i=t(81436);let n=(0,t(25360).cache)(async()=>{let e=await s.j.api.getSession({headers:await (0,a.headers)()});return e?"admin"!==e.user.role?(0,i.redirect)("/not-admin"):e:(0,i.redirect)("/login")})},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},79627:(e,r,t)=>{"use strict";t.d(r,{z:()=>a});var s=t(96330);let a=global.prisma||new s.PrismaClient},79646:e=>{"use strict";e.exports=require("child_process")},79923:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var s=(0,t(95310).A)("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]])},81630:e=>{"use strict";e.exports=require("http")},86579:(e,r,t)=>{"use strict";t.d(r,{Avatar:()=>a,AvatarFallback:()=>n,AvatarImage:()=>i});var s=t(55547);let a=(0,s.registerClientReference)(function(){throw Error("Attempted to call Avatar() from the server but Avatar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/components/ui/avatar.tsx","Avatar"),i=(0,s.registerClientReference)(function(){throw Error("Attempted to call AvatarImage() from the server but AvatarImage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/components/ui/avatar.tsx","AvatarImage"),n=(0,s.registerClientReference)(function(){throw Error("Attempted to call AvatarFallback() from the server but AvatarFallback is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/components/ui/avatar.tsx","AvatarFallback")},91641:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"40eabc7a9ebe83377d26828d573999ab9d7cef7f67":()=>n,"60e299345a9187d44cb4218602ec61c2c7f89a8737":()=>o});var s=t(11311);t(89335);var a=t(79627),i=t(76280);async function n(e){try{return await a.z.teacherProfile.update({where:{id:e},data:{isVerified:!0,isApproved:!0}}),(0,i.revalidatePath)("/admin/team"),{success:!0}}catch(e){return console.error("Failed to approve teacher:",e),{error:"Failed to approve teacher"}}}async function o(e,r){try{return await a.z.teacherProfile.delete({where:{id:e}}),await a.z.user.update({where:{id:r},data:{role:"student"}}),(0,i.revalidatePath)("/admin/team"),{success:!0}}catch(e){return console.error("Failed to reject teacher:",e),{error:"Failed to reject teacher"}}}(0,t(68675).D)([n,o]),(0,s.A)(n,"40eabc7a9ebe83377d26828d573999ab9d7cef7f67",null),(0,s.A)(o,"60e299345a9187d44cb4218602ec61c2c7f89a8737",null)},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7991,2692,1135,3831,1123,9716,5130,32,6972,6726,9809,6727,6280,580,2730,1651,6552],()=>t(23800));module.exports=s})();