(()=>{var e={};e.id=3685,e.ids=[3685],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12445:(e,s,t)=>{"use strict";t.r(s),t.d(s,{"60433aaf29810c234c4282044ce800fb3ddceed5d9":()=>o});var r=t(11311);t(89335);var i=t(48502),a=t(79627),n=t(63388);async function o(e,s){await (0,i.yl)();try{let t=n.qz.safeParse(e);if(!t.success)return{status:"error",message:"Invalid data"};return await a.z.lesson.update({where:{id:s},data:{title:t.data.name,description:t.data.description,thumbnailKey:t.data.thumbnailKey,videoKey:t.data.videoKey}}),{status:"success",message:"Course updated successfully"}}catch{return{status:"error",message:"Failed to update course"}}}(0,t(68675).D)([o]),(0,r.A)(o,"60433aaf29810c234c4282044ce800fb3ddceed5d9",null)},14985:e=>{"use strict";e.exports=require("dns")},17820:(e,s,t)=>{"use strict";t.d(s,{LessonForm:()=>b});var r=t(21551),i=t(90778),a=t(34460),n=t(17985),o=t(95863),d=t(534),c=t.n(d),l=t(68376),u=t(64722),p=t(32520),h=t(552),m=t(18056),x=t(14674),v=t(70794),f=t(43532),g=t(40875);let y=(0,g.createServerReference)("60433aaf29810c234c4282044ce800fb3ddceed5d9",g.callServer,void 0,g.findSourceMapURL,"updateLesson");var j=t(77111);function b({chapterId:e,data:s,courseId:t}){let[d,g]=(0,v.useTransition)(),b=(0,l.mN)({resolver:(0,u.u)(n.qz),defaultValues:{name:s.title,chapterId:e,courseId:t,description:s.description??void 0,videoKey:s.videoKey??void 0,thumbnailKey:s.thumbnailKey??void 0}});return(0,r.jsxs)("div",{children:[(0,r.jsxs)(c(),{className:(0,i.r)({variant:"outline",className:"mb-6"}),href:`/admin/courses/${t}/edit`,children:[(0,r.jsx)(o.A,{className:"size-4"}),(0,r.jsx)("span",{children:"Go Back"})]}),(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Lesson Configuration"}),(0,r.jsx)(a.BT,{children:"Configure the video and description for this lesson."})]}),(0,r.jsx)(a.Wu,{children:(0,r.jsx)(p.lV,{...b,children:(0,r.jsxs)("form",{onSubmit:b.handleSubmit(function(e){g(async()=>{let{data:t,error:r}=await (0,f.T)(y(e,s.id));if(r)return void j.oR.error("An unexpected error occurred. Please try again.");"success"===t.status?j.oR.success(t.message):"error"===t.status&&j.oR.error(t.message)})}),className:"space-y-6",children:[(0,r.jsx)(p.zB,{control:b.control,name:"name",render:({field:e})=>(0,r.jsxs)(p.eI,{children:[(0,r.jsx)(p.lR,{children:"Lesson Name"}),(0,r.jsx)(p.MJ,{children:(0,r.jsx)(h.p,{placeholder:"Chapter xyz",...e})}),(0,r.jsx)(p.C5,{})]})}),(0,r.jsx)(p.zB,{control:b.control,name:"description",render:({field:e})=>(0,r.jsxs)(p.eI,{children:[(0,r.jsx)(p.lR,{children:"Description"}),(0,r.jsx)(p.MJ,{children:(0,r.jsx)(m.d,{field:e})}),(0,r.jsx)(p.C5,{})]})}),(0,r.jsx)(p.zB,{control:b.control,name:"thumbnailKey",render:({field:e})=>(0,r.jsxs)(p.eI,{children:[(0,r.jsx)(p.lR,{children:"Thumbnail image"}),(0,r.jsx)(p.MJ,{children:(0,r.jsx)(x.d,{fileTypeAccepted:"image",onChange:e.onChange,value:e.value})}),(0,r.jsx)(p.C5,{})]})}),(0,r.jsx)(p.zB,{control:b.control,name:"videoKey",render:({field:e})=>(0,r.jsxs)(p.eI,{children:[(0,r.jsx)(p.lR,{children:"Video File"}),(0,r.jsx)(p.MJ,{children:(0,r.jsx)(x.d,{onChange:e.onChange,value:e.value,fileTypeAccepted:"video"})}),(0,r.jsx)(p.C5,{})]})}),(0,r.jsx)(i.$,{disabled:d,type:"submit",children:d?"Saving..":"Save Lesson"})]})})})]})]})}},18459:(e,s,t)=>{Promise.resolve().then(t.bind(t,93794))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},23276:(e,s,t)=>{Promise.resolve().then(t.bind(t,17820))},23324:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(53525).A)("outline","user-check","IconUserCheck",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]])},27910:e=>{"use strict";e.exports=require("stream")},28178:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var r=t(21551),i=t(70794),a=t(35479),n=t(30519),o=t(68961),d=t(39524),c=t(63969),l=t(50082),u=t(73492),p=t(602),h=t(78862),m=t(23324),x=t(94434),v=t(14722),f=t(94),g=t(74238),y=t(28724),j=t(81761),b=t(86687),A=t(72296),k=t(89593),I=t(84294);let M={navMain:[{title:"Dashboard",url:"/admin",icon:a.A},{title:"Users",url:"/admin/users",icon:n.A},{title:"Teachers",url:"/admin/teachers",icon:o.A},{title:"Students",url:"/admin/students",icon:d.A},{title:"Courses",url:"/admin/courses",icon:c.A},{title:"Live Sessions",url:"/admin/live-sessions",icon:l.A},{title:"Payments",url:"/admin/payments",icon:u.A},{title:"Analytics",url:"/admin/analytics",icon:p.A},{title:"Verification Center",url:"/admin/verification",icon:h.A,items:[{title:"Profile Verification",url:"/admin/verification/profiles",icon:m.A},{title:"Payouts & Earnings",url:"/admin/verification/payouts",icon:x.A}]},{title:"Reports",url:"/admin/reports",icon:v.A},{title:"Content Review",url:"/admin/content-review",icon:h.A},{title:"Notifications",url:"/admin/notifications",icon:f.A}],navSecondary:[{title:"Settings",url:"/admin/settings",icon:g.A},{title:"Get Help",url:"/admin/help",icon:y.A},{title:"Search",url:"#",icon:j.A}]};function C({...e}){return(0,r.jsxs)(I.Bx,{collapsible:"offcanvas",...e,children:[(0,r.jsx)(I.Gh,{children:(0,r.jsx)(I.wZ,{children:(0,r.jsx)(I.FX,{children:(0,r.jsx)(I.Uj,{size:"lg",asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5 hover:bg-sidebar-accent/50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1",children:[(0,r.jsx)("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-sidebar-primary text-sidebar-primary-foreground",children:(0,r.jsx)(a.A,{className:"size-4"})}),(0,r.jsxs)("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[(0,r.jsx)("span",{className:"truncate font-bold text-lg tracking-wide",children:"KIDOKOOL"}),(0,r.jsx)("span",{className:"truncate text-xs text-muted-foreground/70",children:"Admin Console"})]})]})})})})}),(0,r.jsxs)(I.Yv,{children:[(0,r.jsx)(b.J,{items:M.navMain}),(0,r.jsx)(A.e,{items:M.navSecondary,className:"mt-auto"})]}),(0,r.jsx)(I.CG,{children:(0,r.jsx)(k.r,{})})]})}var q=t(75627),N=t(16226),w=t(31965),P=t(97662);function S({children:e}){let{data:s,isPending:t}=(0,N.A)();(0,w.useRouter)();let[a,n]=(0,i.useState)(!1);return!a||t?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(P.A,{className:"h-8 w-8 animate-spin"})}):s&&"admin"===s.user.role?(0,r.jsxs)(I.GB,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"4.25rem"},children:[(0,r.jsx)(C,{}),(0,r.jsxs)(I.sF,{children:[(0,r.jsx)(q.D,{}),(0,r.jsx)("div",{className:"flex flex-1 flex-col",children:(0,r.jsx)("div",{className:"@container/main flex flex-1 flex-col gap-2",children:(0,r.jsx)("div",{className:"flex flex-col gap-4 py-4 md:gap-6 md:py-6 px-4 lg:px-6",children:e})})})]})]}):null}},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32234:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var r=t(6855),i=t(99880),a=t(44858),n=t.n(a),o=t(84637),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(s,d);let c={children:["",{children:["admin",{children:["courses",{children:["[courseId]",{children:["[chapterId]",{children:["[lessonId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,62794)),"/Users/sanket/Documents/LMS-Organomed copy/app/admin/courses/[courseId]/[chapterId]/[lessonId]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,93794)),"/Users/sanket/Documents/LMS-Organomed copy/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,68166)),"/Users/sanket/Documents/LMS-Organomed copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,42260,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/Users/sanket/Documents/LMS-Organomed copy/app/admin/courses/[courseId]/[chapterId]/[lessonId]/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/courses/[courseId]/[chapterId]/[lessonId]/page",pathname:"/admin/courses/[courseId]/[chapterId]/[lessonId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},39524:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(53525).A)("outline","user-circle","IconUserCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]])},44708:e=>{"use strict";e.exports=require("node:https")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57975:e=>{"use strict";e.exports=require("node:util")},59724:(e,s,t)=>{Promise.resolve().then(t.bind(t,72767))},62794:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(44789),i=t(82834),a=t(72767);async function n({params:e}){let{chapterId:s,courseId:t,lessonId:n}=await e,o=await (0,i.u)(n);return(0,r.jsx)(a.LessonForm,{data:o,chapterId:s,courseId:t})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63969:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(53525).A)("outline","list-details","IconListDetails",[["path",{d:"M13 5h8",key:"svg-0"}],["path",{d:"M13 9h5",key:"svg-1"}],["path",{d:"M13 15h8",key:"svg-2"}],["path",{d:"M13 19h5",key:"svg-3"}],["path",{d:"M3 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-4"}],["path",{d:"M3 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-5"}]])},68961:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(53525).A)("outline","school","IconSchool",[["path",{d:"M22 9l-10 -4l-10 4l10 4l10 -4v6",key:"svg-0"}],["path",{d:"M6 10.6v5.4a6 3 0 0 0 12 0v-5.4",key:"svg-1"}]])},71603:(e,s,t)=>{Promise.resolve().then(t.bind(t,28178))},72767:(e,s,t)=>{"use strict";t.d(s,{LessonForm:()=>r});let r=(0,t(55547).registerClientReference)(function(){throw Error("Attempted to call LessonForm() from the server but LessonForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/app/admin/courses/[courseId]/[chapterId]/[lessonId]/_components/LessonForm.tsx","LessonForm")},73492:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(53525).A)("outline","credit-card","IconCreditCard",[["path",{d:"M3 5m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M3 10l18 0",key:"svg-1"}],["path",{d:"M7 15l.01 0",key:"svg-2"}],["path",{d:"M11 15l2 0",key:"svg-3"}]])},74075:e=>{"use strict";e.exports=require("zlib")},75627:(e,s,t)=>{"use strict";t.d(s,{D:()=>c});var r=t(21551),i=t(39461),a=t(84294),n=t(3910),o=t(99078),d=t(93226);function c(){return(0,r.jsx)("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:(0,r.jsxs)("div",{className:"flex w-full items-center gap-1 px-4 lg:gap-2 lg:px-6",children:[(0,r.jsx)(a.x2,{className:"-ml-1"}),(0,r.jsx)(i.Separator,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),(0,r.jsx)("h1",{className:"text-base font-medium",children:"KIDOKOOL."}),(0,r.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,r.jsx)(d.r,{}),(0,r.jsx)(o.d,{}),(0,r.jsx)(n.U,{})]})]})})}},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},78862:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(53525).A)("outline","shield-check","IconShieldCheck",[["path",{d:"M11.46 20.846a12 12 0 0 1 -7.96 -14.846a12 12 0 0 0 8.5 -3a12 12 0 0 0 8.5 3a12 12 0 0 1 -.09 7.06",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}]])},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},93794:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(55547).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sanket/Documents/LMS-Organomed copy/app/admin/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/app/admin/layout.tsx","default")},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var s=require("../../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[7991,2692,1135,3831,1123,9716,5130,6972,6726,4213,6727,1167,817,5757,3781,2278,2148,580,2730,3027,5284],()=>t(32234));module.exports=r})();