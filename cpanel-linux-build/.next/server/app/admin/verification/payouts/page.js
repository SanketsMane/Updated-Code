(()=>{var e={};e.id=6516,e.ids=[6516],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},6234:(e,t,s)=>{"use strict";s.d(t,{Tabs:()=>i,TabsContent:()=>l,TabsList:()=>o,TabsTrigger:()=>c});var r=s(21551);s(70794);var a=s(48837),n=s(3413);function i({className:e,...t}){return(0,r.jsx)(a.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",e),...t})}function o({className:e,...t}){return(0,r.jsx)(a.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function c({className:e,...t}){return(0,r.jsx)(a.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function l({className:e,...t}){return(0,r.jsx)(a.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",e),...t})}},9511:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(44789),a=s(9158),n=s(62984),i=s(19959),o=s(98100),c=s(86579),l=s(95780),d=s(48798),u=s(74319),p=s(24244),m=s(57897),x=s(52967),h=s(10385),g=s(45694),v=s(3121),b=s(3069),j=s(37086);async function f(){await (0,v.ZT)();let[e,t,s,f]=await Promise.all([(0,b.j5)(),j.z.payoutRequest.count({where:{status:"Approved"}}),j.z.payoutRequest.count({where:{status:"Completed"}}),j.z.payoutRequest.aggregate({where:{status:"Completed",processedAt:{gte:new Date(new Date().getFullYear(),new Date().getMonth(),1)}},_sum:{requestedAmount:!0},_count:!0,_avg:{requestedAmount:!0}})]),y=e.length,N=e=>{switch(e){case"pending":return"bg-orange-100 text-orange-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";case"processed":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Payouts & Earnings"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage teacher payout requests and earnings distribution"})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium",children:"Pending Payouts"}),(0,r.jsx)(l.A,{className:"h-4 w-4 text-orange-500"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:y}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Awaiting review"})]})]}),(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium",children:"Approved Today"}),(0,r.jsx)(d.A,{className:"h-4 w-4 text-green-500"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ready for processing"})]})]}),(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium",children:"Monthly Total"}),(0,r.jsx)(u.A,{className:"h-4 w-4 text-blue-500"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["$",Number(f._sum.requestedAmount||0).toLocaleString()]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"This month's payouts"})]})]}),(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium",children:"Avg Payout"}),(0,r.jsx)(l.A,{className:"h-4 w-4 text-purple-500"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["$",Number(f._avg.requestedAmount||0).toFixed(0)]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Average request amount"})]})]})]}),(0,r.jsxs)(o.Tabs,{defaultValue:"pending",className:"space-y-4",children:[(0,r.jsxs)(o.TabsList,{children:[(0,r.jsx)(o.TabsTrigger,{value:"pending",children:"Pending Review"}),(0,r.jsx)(o.TabsTrigger,{value:"approved",children:"Approved"}),(0,r.jsx)(o.TabsTrigger,{value:"processed",children:"Processed"}),(0,r.jsx)(o.TabsTrigger,{value:"rejected",children:"Rejected"})]}),(0,r.jsx)(o.TabsContent,{value:"pending",className:"space-y-4",children:(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Pending Payout Requests"}),(0,r.jsx)(a.BT,{children:"Teacher payout requests awaiting review and approval"})]}),(0,r.jsx)(a.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:e.length>0?e.map(e=>(0,r.jsx)(a.Zp,{className:"border-l-4 border-l-orange-500",children:(0,r.jsxs)(a.Wu,{className:"pt-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(c.Avatar,{children:[(0,r.jsx)(c.AvatarImage,{src:e.teacher.user.image||void 0}),(0,r.jsx)(c.AvatarFallback,{children:e.teacher.user.name?.split(" ").map(e=>e[0]).join("")||"?"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:e.teacher.user.name||"Unknown"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.teacher.user.email}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,r.jsx)(i.E,{variant:"outline",className:"bg-orange-100 text-orange-700",children:e.status}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Requested ",new Date(e.createdAt).toLocaleDateString()]})]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",Number(e.requestedAmount).toLocaleString()]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Requested Amount"})]})]}),(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"Bank Account:"}),(0,r.jsx)("span",{className:"font-medium",children:e.bankAccountName})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,r.jsxs)(n.$,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Approve Payout"]}),(0,r.jsxs)(n.$,{size:"sm",variant:"destructive",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Reject"]}),(0,r.jsxs)(n.$,{size:"sm",variant:"outline",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]})},e.id)):(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,r.jsx)(h.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"No pending payouts"})]})})})]})}),(0,r.jsx)(o.TabsContent,{value:"approved",className:"space-y-4",children:(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Approved Payouts"}),(0,r.jsx)(a.BT,{children:"Payouts approved and ready for processing"})]}),(0,r.jsx)(a.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:e.filter(e=>"approved"===e.status).map(e=>(0,r.jsx)(a.Zp,{className:"border-l-4 border-l-green-500",children:(0,r.jsx)(a.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(c.Avatar,{children:[(0,r.jsx)(c.AvatarImage,{src:`/avatars/${e.id}.jpg`}),(0,r.jsx)(c.AvatarFallback,{children:e.teacherName.split(" ").map(e=>e[0]).join("")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:e.teacherName}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email}),(0,r.jsx)(i.E,{variant:"outline",className:N(e.status),children:e.status})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",e.amount.toLocaleString()]}),(0,r.jsxs)(n.$,{size:"sm",className:"mt-2",children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Process Payment"]})]})]})})},e.id))})})]})}),(0,r.jsx)(o.TabsContent,{value:"processed",className:"space-y-4",children:(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Processed Payouts"}),(0,r.jsx)(a.BT,{children:"Successfully processed and sent payouts"})]}),(0,r.jsx)(a.Wu,{children:(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,r.jsx)(d.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"Processed payouts will be displayed here"})]})})]})}),(0,r.jsx)(o.TabsContent,{value:"rejected",className:"space-y-4",children:(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Rejected Payouts"}),(0,r.jsx)(a.BT,{children:"Payout requests that were rejected"})]}),(0,r.jsx)(a.Wu,{children:(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,r.jsx)(m.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"Rejected payouts will be displayed here"})]})})]})})]})]})}},10385:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(99717).A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19943:(e,t,s)=>{Promise.resolve().then(s.bind(s,86579)),Promise.resolve().then(s.bind(s,98100))},21820:e=>{"use strict";e.exports=require("os")},24244:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(99717).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},74319:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(99717).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},85439:(e,t,s)=>{Promise.resolve().then(s.bind(s,46897)),Promise.resolve().then(s.bind(s,6234))},86579:(e,t,s)=>{"use strict";s.d(t,{Avatar:()=>a,AvatarFallback:()=>i,AvatarImage:()=>n});var r=s(55547);let a=(0,r.registerClientReference)(function(){throw Error("Attempted to call Avatar() from the server but Avatar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/components/ui/avatar.tsx","Avatar"),n=(0,r.registerClientReference)(function(){throw Error("Attempted to call AvatarImage() from the server but AvatarImage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/components/ui/avatar.tsx","AvatarImage"),i=(0,r.registerClientReference)(function(){throw Error("Attempted to call AvatarFallback() from the server but AvatarFallback is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/components/ui/avatar.tsx","AvatarFallback")},88856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>l});var r=s(6855),a=s(99880),n=s(44858),i=s.n(n),o=s(84637),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);s.d(t,c);let l={children:["",{children:["admin",{children:["verification",{children:["payouts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9511)),"/Users/sanket/Documents/LMS-Organomed copy/app/admin/verification/payouts/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,93794)),"/Users/sanket/Documents/LMS-Organomed copy/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,68166)),"/Users/sanket/Documents/LMS-Organomed copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,89254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,55007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,42260,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3107))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/sanket/Documents/LMS-Organomed copy/app/admin/verification/payouts/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/verification/payouts/page",pathname:"/admin/verification/payouts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")},98100:(e,t,s)=>{"use strict";s.d(t,{Tabs:()=>a,TabsContent:()=>o,TabsList:()=>n,TabsTrigger:()=>i});var r=s(55547);let a=(0,r.registerClientReference)(function(){throw Error("Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/components/ui/tabs.tsx","Tabs"),n=(0,r.registerClientReference)(function(){throw Error("Attempted to call TabsList() from the server but TabsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/components/ui/tabs.tsx","TabsList"),i=(0,r.registerClientReference)(function(){throw Error("Attempted to call TabsTrigger() from the server but TabsTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/components/ui/tabs.tsx","TabsTrigger"),o=(0,r.registerClientReference)(function(){throw Error("Attempted to call TabsContent() from the server but TabsContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sanket/Documents/LMS-Organomed copy/components/ui/tabs.tsx","TabsContent")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7991,2692,1135,3831,1123,9716,5130,32,6972,6726,9809,7760,580,2730,4648,7970],()=>s(88856));module.exports=r})();