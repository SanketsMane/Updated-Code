(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4566],{10711:(e,s,r)=>{"use strict";r.d(s,{S:()=>d});var a=r(72311);r(62847);var t=r(5583),i=r(72786),n=r(98443);function d(e){let{className:s,...r}=e;return(0,a.jsx)(t.bL,{"data-slot":"checkbox",className:(0,n.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,a.jsx)(t.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(i.A,{className:"size-3.5"})})})}},14233:(e,s,r)=>{"use strict";r.d(s,{Separator:()=>n});var a=r(72311);r(62847);var t=r(27253),i=r(98443);function n(e){let{className:s,orientation:r="horizontal",decorative:n=!0,...d}=e;return(0,a.jsx)(t.b,{"data-slot":"separator",decorative:n,orientation:r,className:(0,i.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...d})}},33788:(e,s,r)=>{"use strict";r.d(s,{$:()=>l,r:()=>d});var a=r(72311);r(62847);var t=r(37448),i=r(32560),n=r(98443);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:s,variant:r,size:i,asChild:l=!1,...c}=e,o=l?t.DX:"button";return(0,a.jsx)(o,{suppressHydrationWarning:!0,"data-slot":"button",className:(0,n.cn)(d({variant:r,size:i,className:s})),...c})}},34355:(e,s,r)=>{Promise.resolve().then(r.bind(r,75441))},56398:(e,s,r)=>{"use strict";r.d(s,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>n});var a=r(72311);r(62847);var t=r(98443);function i(e){let{className:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function n(e){let{className:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function d(e){let{className:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",s),...r})}function l(e){let{className:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",s),...r})}function c(e){let{className:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",s),...r})}},75441:(e,s,r)=>{"use strict";r.d(s,{BookingPageClient:()=>k});var a=r(72311),t=r(62847),i=r(44225),n=r(56398),d=r(33788),l=r(10711),c=r(14233),o=r(86243),u=r(80085),x=r(23219),m=r(40684),h=r(51252),v=r(40553),f=r(8900),g=r(88824),p=r(54354),b=r(83871),j=r.n(b),N=r(54832),y=r(94345);function k(e){let{session:s}=e;(0,i.useRouter)();let[r,b]=(0,t.useState)(!1),[k,w]=(0,t.useState)(!1),[A,S]=(0,t.useState)(!1),z=async()=>{if(!k||!A)return void y.oR.error("Please agree to the terms and refund policy");try{b(!0);let e=await fetch("/api/sessions/".concat(s.id,"/checkout"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to create checkout session")}let{url:r}=await e.json();window.location.href=r}catch(e){y.oR.error(e.message),b(!1)}},C=Math.round(.05*s.price),P=s.price;return(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"container mx-auto py-8 max-w-4xl",children:[(0,a.jsx)(j(),{href:"/live-sessions/".concat(s.id),children:(0,a.jsxs)(d.$,{variant:"ghost",className:"mb-6",children:[(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Back to Session"]})}),(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Complete Your Booking"}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Session Details"})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)(o.Avatar,{className:"h-12 w-12",children:[(0,a.jsx)(o.AvatarImage,{src:s.teacher.user.image||void 0}),(0,a.jsx)(o.AvatarFallback,{children:s.teacher.user.name.charAt(0).toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(u.E,{variant:"secondary",className:"mb-2",children:s.subject}),(0,a.jsx)("h3",{className:"font-bold text-lg mb-1",children:s.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["with ",s.teacher.user.name]})]})]}),(0,a.jsx)(c.Separator,{}),(0,a.jsxs)("div",{className:"space-y-3",children:[s.scheduledAt&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(0,N.GP)(new Date(s.scheduledAt),"EEEE, MMMM dd, yyyy")}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,N.GP)(new Date(s.scheduledAt),"h:mm a")," (",s.timezone,")"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium",children:[s.duration," minutes"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Live video session"})]})]})]})]})]}),(0,a.jsx)(n.Zp,{className:"border-blue-200 bg-blue-50/50 dark:border-blue-900 dark:bg-blue-950/20",children:(0,a.jsx)(n.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(v.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsx)("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Important Information"}),(0,a.jsxs)("ul",{className:"space-y-1 text-blue-800 dark:text-blue-200",children:[(0,a.jsx)("li",{children:"• You'll receive a confirmation email with session link"}),(0,a.jsx)("li",{children:"• Join from any device with internet connection"}),(0,a.jsx)("li",{children:"• Recording will be available for 7 days"}),(0,a.jsx)("li",{children:"• Session reminder sent 24 hours before"})]})]})]})})}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-base",children:"Cancellation & Refund Policy"})}),(0,a.jsxs)(n.Wu,{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-green-600 shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Full Refund (100%)"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Cancel 48+ hours before session"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-yellow-600 shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Partial Refund (50%)"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Cancel 24-48 hours before session"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"No Refund"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Cancel less than 24 hours before"})]})]})]})]}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"pt-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(l.S,{id:"terms",checked:k,onCheckedChange:e=>w(e)}),(0,a.jsxs)("label",{htmlFor:"terms",className:"text-sm leading-relaxed cursor-pointer",children:["I agree to the"," ",(0,a.jsx)(j(),{href:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",(0,a.jsx)(j(),{href:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(l.S,{id:"refund",checked:A,onCheckedChange:e=>S(e)}),(0,a.jsx)("label",{htmlFor:"refund",className:"text-sm leading-relaxed cursor-pointer",children:"I understand the cancellation and refund policy outlined above"})]})]})})]}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)("div",{className:"sticky top-8",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Order Summary"})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Session Price"}),(0,a.jsxs)("span",{className:"font-medium",children:["$",(s.price/100).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Platform Fee (5%)"}),(0,a.jsxs)("span",{className:"font-medium",children:["$",(C/100).toFixed(2)]})]}),(0,a.jsx)(c.Separator,{}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-bold text-lg",children:"Total"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-bold text-2xl text-green-600",children:["$",(P/100).toFixed(2)]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"USD"})]})]})]}),(0,a.jsx)(d.$,{onClick:z,disabled:r||!k||!A,className:"w-full",size:"lg",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{className:"mr-2 h-5 w-5"}),"Proceed to Payment"]})}),(0,a.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:"You'll be redirected to Stripe for secure payment"})]})]})})})]})]})})}},80085:(e,s,r)=>{"use strict";r.d(s,{E:()=>l});var a=r(72311);r(62847);var t=r(37448),i=r(32560),n=r(98443);let d=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:r,asChild:i=!1,...l}=e,c=i?t.DX:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,n.cn)(d({variant:r}),s),...l})}},86243:(e,s,r)=>{"use strict";r.d(s,{Avatar:()=>n,AvatarFallback:()=>l,AvatarImage:()=>d});var a=r(72311);r(62847);var t=r(48260),i=r(98443);function n(e){let{className:s,...r}=e;return(0,a.jsx)(t.bL,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...r})}function d(e){let{className:s,...r}=e;return(0,a.jsx)(t._V,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full",s),...r})}function l(e){let{className:s,...r}=e;return(0,a.jsx)(t.H4,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...r})}},98443:(e,s,r)=>{"use strict";r.d(s,{cn:()=>i});var a=r(37246),t=r(18327);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,t.QP)((0,a.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[2760,6252,8425,8306,5422,4832,3694,5789,6020,7358],()=>s(34355)),_N_E=e.O()}]);