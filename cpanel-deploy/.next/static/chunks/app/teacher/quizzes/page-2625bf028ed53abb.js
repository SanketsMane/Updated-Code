(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6609],{5760:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var a=t(72311);t(62847);var i=t(98443);function n(e){let{className:s,type:t,...n}=e;return(0,a.jsx)("input",{suppressHydrationWarning:!0,type:t,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...n})}},9812:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>u,Es:()=>m,L3:()=>h,c7:()=>x,lG:()=>l,rr:()=>p,zM:()=>c});var a=t(72311);t(62847);var i=t(44884),n=t(19258),r=t(98443);function l(e){let{...s}=e;return(0,a.jsx)(i.bL,{"data-slot":"dialog",...s})}function c(e){let{...s}=e;return(0,a.jsx)(i.l9,{"data-slot":"dialog-trigger",...s})}function d(e){let{...s}=e;return(0,a.jsx)(i.ZL,{"data-slot":"dialog-portal",...s})}function o(e){let{className:s,...t}=e;return(0,a.jsx)(i.hJ,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function u(e){let{className:s,children:t,showCloseButton:l=!0,...c}=e;return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(i.UC,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...c,children:[t,l&&(0,a.jsxs)(i.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function m(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(i.hE,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",s),...t})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(i.VY,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...t})}},17400:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>et});var a=t(72311),i=t(62847),n=t(56398),r=t(33788),l=t(80085),c=t(5760),d=t(57852),o=t(9812),u=t(23425),x=t(93347),m=t(32094),h=t(20138),p=t(8900),j=t(43074),g=t(80799),f=t(12086),v=t(18),b=t(51252),N=t(40684),w=t(54664),y=t(9480),A=t(58755),C=t(55133),k=t(159),q=t(51787),z=t(58227),S=t(7346),L=t(20850),T=t(30955),_=t(94345),D=t(36318),E=t(49718),Q=t(63132),R=t(98443);let F=i.forwardRef((e,s)=>{let{className:t,value:n,defaultValue:r,onValueChange:l,min:c=0,max:d=100,step:o=1,...u}=e,[x,m]=i.useState(n||r||[c]),h=n||x;return(0,a.jsx)("div",{className:(0,R.cn)("relative flex w-full touch-none select-none items-center",t),children:(0,a.jsx)("input",{type:"range",ref:s,min:c,max:d,step:o,value:h[0],onChange:e=>{let s=[Number(e.target.value)];m(s),null==l||l(s)},className:(0,R.cn)("w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer","slider-thumb:appearance-none slider-thumb:h-4 slider-thumb:w-4 slider-thumb:rounded-full slider-thumb:bg-primary slider-thumb:cursor-pointer","[&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:cursor-pointer","[&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:border-0"),...u})})});F.displayName="Slider";var P=t(85024),M=t(41522),Z=t(30096),I=t(56450),W=t(22123),O=t(92719),B=t(26391),$=t(47338),U=t(40553),V=t(72786),H=t(19258);function J(e){let{initialData:s,onSave:t,onCancel:o}=e,[u,x]=(0,i.useState)({type:"MultipleChoice",question:"",explanation:"",points:1,difficulty:"Medium",position:0,isRequired:!0,partialCredit:!1,questionData:{options:[]},...s}),[m,p]=(0,i.useState)({}),j=()=>{var e,s,t,a,i,n,r;let l={};switch(!(null==(e=u.question)?void 0:e.trim())&&(l.question="Question text is required"),(!u.points||u.points<0)&&(l.points="Points must be greater than 0"),u.type){case"MultipleChoice":let c=u.questionData;(null==c||null==(s=c.options)?void 0:s.length)&&!(c.options.length<2)?c.options.some(e=>e.isCorrect)||(l.options="At least one correct answer is required"):l.options="At least 2 options are required";break;case"ShortAnswer":let d=u.questionData;(null==d||null==(t=d.correctAnswers)?void 0:t.length)&&d.correctAnswers.some(e=>e.trim())||(l.correctAnswers="At least one correct answer is required");break;case"FillInTheBlank":let o=u.questionData;(null==o||null==(a=o.text)?void 0:a.includes("___"))||(null==o||null==(i=o.blanks)?void 0:i.length)||(l.fillInBlank="Text must contain blanks (___) or define blank positions");break;case"Matching":let x=u.questionData;(null==x||null==(n=x.pairs)?void 0:n.length)&&!(x.pairs.length<2)||(l.matching="At least 2 pairs are required");break;case"Ordering":let m=u.questionData;(null==m||null==(r=m.items)?void 0:r.length)&&!(m.items.length<2)||(l.ordering="At least 2 items are required")}return p(l),0===Object.keys(l).length},g=e=>{x(s=>({...s,questionData:{...s.questionData,...e}}))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(P.Tabs,{defaultValue:"question",className:"w-full",children:[(0,a.jsxs)(P.TabsList,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(P.TabsTrigger,{value:"question",children:"Question"}),(0,a.jsx)(P.TabsTrigger,{value:"settings",children:"Settings"})]}),(0,a.jsxs)(P.TabsContent,{value:"question",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Question Type"}),(0,a.jsxs)(d.l6,{value:u.type,onValueChange:e=>x(s=>({...s,type:e,questionData:"MultipleChoice"===e?{options:[]}:"TrueFalse"===e?{correctAnswer:!0}:"ShortAnswer"===e?{correctAnswers:[""],caseSensitive:!1}:"LongAnswer"===e?{}:"FillInTheBlank"===e?{text:"",blanks:[]}:"Matching"===e?{pairs:[]}:"Ordering"===e?{items:[]}:{}})),children:[(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{placeholder:"Select question type"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"MultipleChoice",children:"Multiple Choice"}),(0,a.jsx)(d.eb,{value:"TrueFalse",children:"True/False"}),(0,a.jsx)(d.eb,{value:"ShortAnswer",children:"Short Answer"}),(0,a.jsx)(d.eb,{value:"LongAnswer",children:"Long Answer"}),(0,a.jsx)(d.eb,{value:"FillInTheBlank",children:"Fill in the Blank"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"questionText",children:"Question *"}),(0,a.jsx)(E.T,{id:"questionText",value:u.question,onChange:e=>x(s=>({...s,question:e.target.value})),placeholder:"Enter your question here...",rows:3,className:m.question?"border-red-500":""}),m.question&&(0,a.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,a.jsx)(U.A,{className:"h-4 w-4"}),m.question]})]}),(0,a.jsxs)("div",{children:["MultipleChoice"===u.type&&(0,a.jsx)(()=>{let e=u.questionData||{options:[]},s=(s,t)=>{g({options:e.options.map(e=>e.id===s?{...e,...t}:e)})},t=s=>{g({options:e.options.filter(e=>e.id!==s)})};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(D.Label,{children:"Answer Options"}),(0,a.jsxs)(r.$,{type:"button",onClick:()=>{let s={id:crypto.randomUUID(),text:"",isCorrect:!1};g({options:[...e.options,s]})},size:"sm",variant:"outline",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Add Option"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:e.options.map((i,n)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.E,{variant:"secondary",className:"min-w-[24px] text-center",children:String.fromCharCode(65+n)}),(0,a.jsx)(c.p,{value:i.text,onChange:e=>s(i.id,{text:e.target.value}),placeholder:"Option ".concat(String.fromCharCode(65+n)),className:"flex-1"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Q.Switch,{checked:i.isCorrect,onCheckedChange:e=>s(i.id,{isCorrect:e})}),(0,a.jsx)(D.Label,{className:"text-sm",children:"Correct"})]}),(0,a.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>t(i.id),disabled:e.options.length<=2,children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})]},i.id))}),0===e.options.length&&(0,a.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:(0,a.jsx)("p",{children:'No options added yet. Click "Add Option" to start.'})}),m.options&&(0,a.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,a.jsx)(U.A,{className:"h-4 w-4"}),m.options]})]})},{}),"TrueFalse"===u.type&&(0,a.jsx)(()=>{let e=u.questionData||{correctAnswer:!0};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(D.Label,{children:"Correct Answer"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"radio",id:"true",name:"trueFalse",checked:!0===e.correctAnswer,onChange:()=>g({correctAnswer:!0}),className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.Label,{htmlFor:"true",className:"flex items-center gap-2",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 text-green-600"}),"True"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"radio",id:"false",name:"trueFalse",checked:!1===e.correctAnswer,onChange:()=>g({correctAnswer:!1}),className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.Label,{htmlFor:"false",className:"flex items-center gap-2",children:[(0,a.jsx)(H.A,{className:"h-4 w-4 text-red-600"}),"False"]})]})]})]})},{}),"ShortAnswer"===u.type&&(0,a.jsx)(()=>{let e=u.questionData||{correctAnswers:[""],caseSensitive:!1},s=(s,t)=>{let a=[...e.correctAnswers];a[s]=t,g({correctAnswers:a})},t=s=>{g({correctAnswers:e.correctAnswers.filter((e,t)=>t!==s)})};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(D.Label,{children:"Accepted Answers"}),(0,a.jsxs)(r.$,{type:"button",onClick:()=>{g({correctAnswers:[...e.correctAnswers,""]})},size:"sm",variant:"outline",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Add Answer"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.correctAnswers.map((i,n)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.p,{value:i,onChange:e=>s(n,e.target.value),placeholder:"Correct answer...",className:"flex-1"}),(0,a.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>t(n),disabled:e.correctAnswers.length<=1,children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})]},n))}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Case Sensitive"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Answers must match exact capitalization"})]}),(0,a.jsx)(Q.Switch,{checked:e.caseSensitive,onCheckedChange:e=>g({caseSensitive:e})})]}),m.correctAnswers&&(0,a.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,a.jsx)(U.A,{className:"h-4 w-4"}),m.correctAnswers]})]})},{}),"LongAnswer"===u.type&&(0,a.jsx)(()=>{let e=u.questionData||{};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Sample Answer (Optional)"}),(0,a.jsx)(E.T,{value:e.sampleAnswer||"",onChange:e=>g({sampleAnswer:e.target.value}),placeholder:"Provide a sample answer for grading reference...",rows:4})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Maximum Words (Optional)"}),(0,a.jsx)(c.p,{type:"number",value:e.maxWords||"",onChange:e=>g({maxWords:e.target.value?parseInt(e.target.value):void 0}),placeholder:"e.g., 500",min:1})]})]})},{}),"FillInTheBlank"===u.type&&(0,a.jsx)(()=>{let e=u.questionData||{text:"",blanks:[]},s=(s,t)=>{g({blanks:e.blanks.map(e=>e.id===s?{...e,...t}:e)})},t=t=>{let a=e.blanks.find(e=>e.id===t);a&&s(t,{correctAnswers:[...a.correctAnswers,""]})},i=(t,a,i)=>{let n=e.blanks.find(e=>e.id===t);if(n){let e=[...n.correctAnswers];e[a]=i,s(t,{correctAnswers:e})}},l=(t,a)=>{let i=e.blanks.find(e=>e.id===t);i&&i.correctAnswers.length>1&&s(t,{correctAnswers:i.correctAnswers.filter((e,s)=>s!==a)})},d=()=>{g({blanks:Array.from({length:(e.text.match(/___/g)||[]).length},(e,s)=>({id:crypto.randomUUID(),correctAnswers:[""],caseSensitive:!1}))})};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Question Text with Blanks"}),(0,a.jsx)(E.T,{value:e.text,onChange:e=>{g({text:e.target.value}),setTimeout(d,100)},placeholder:"Enter text with ___ for blanks. Example: The capital of France is ___.",rows:3}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use ___ (three underscores) to mark blank spaces"})]}),e.blanks.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(D.Label,{children:"Blank Answers"}),e.blanks.map((e,d)=>(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{className:"pb-2",children:(0,a.jsxs)(n.ZB,{className:"text-sm",children:["Blank ",d+1]})}),(0,a.jsxs)(n.Wu,{className:"space-y-3",children:[e.correctAnswers.map((s,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.p,{value:s,onChange:s=>i(e.id,t,s.target.value),placeholder:"Correct answer...",className:"flex-1"}),(0,a.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(e.id,t),disabled:e.correctAnswers.length<=1,children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})]},t)),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>t(e.id),children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Add Answer"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Q.Switch,{checked:e.caseSensitive,onCheckedChange:t=>s(e.id,{caseSensitive:t})}),(0,a.jsx)(D.Label,{className:"text-sm",children:"Case Sensitive"})]})]})]})]},e.id))]}),m.fillInBlank&&(0,a.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,a.jsx)(U.A,{className:"h-4 w-4"}),m.fillInBlank]})]})},{})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"explanation",children:"Explanation (Optional)"}),(0,a.jsx)(E.T,{id:"explanation",value:u.explanation||"",onChange:e=>x(s=>({...s,explanation:e.target.value})),placeholder:"Provide an explanation that will be shown after answering...",rows:2})]})]}),(0,a.jsxs)(P.TabsContent,{value:"settings",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Points"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(F,{value:[u.points||1],onValueChange:e=>x(s=>({...s,points:e[0]})),min:1,max:10,step:1,className:"flex-1"}),(0,a.jsx)("span",{className:"w-12 text-sm font-medium",children:u.points||1})]}),m.points&&(0,a.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,a.jsx)(U.A,{className:"h-4 w-4"}),m.points]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Difficulty Level"}),(0,a.jsxs)(d.l6,{value:u.difficulty,onValueChange:e=>x(s=>({...s,difficulty:e})),children:[(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"Easy",children:"Easy"}),(0,a.jsx)(d.eb,{value:"Medium",children:"Medium"}),(0,a.jsx)(d.eb,{value:"Hard",children:"Hard"}),(0,a.jsx)(d.eb,{value:"Expert",children:"Expert"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Required Question"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Students must answer this question"})]}),(0,a.jsx)(Q.Switch,{checked:u.isRequired,onCheckedChange:e=>x(s=>({...s,isRequired:e}))})]}),"MultipleChoice"===u.type&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Partial Credit"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Award points for partially correct answers"})]}),(0,a.jsx)(Q.Switch,{checked:u.partialCredit,onCheckedChange:e=>x(s=>({...s,partialCredit:e}))})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 pt-4 border-t",children:[(0,a.jsx)(r.$,{type:"button",variant:"outline",onClick:o,children:"Cancel"}),(0,a.jsxs)(r.$,{type:"button",onClick:()=>{if(!j())return void _.oR.error("Please fix the errors before saving");t(u)},className:"flex items-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-4 w-4"}),"Save Question"]})]})]})}var G=t(59697),Y=t(89447),X=t(69494),K=t(28135);function ee(e){let{quiz:s}=e,[t,d]=(0,i.useState)(0),[o,u]=(0,i.useState)({}),[x,h]=(0,i.useState)(s.timeLimit?60*s.timeLimit:null),j=(e,s)=>{u(t=>({...t,[e]:s}))},f=e=>{switch(e){case"MultipleChoice":return(0,a.jsx)(M.A,{className:"h-4 w-4"});case"TrueFalse":return(0,a.jsx)(p.A,{className:"h-4 w-4"});case"ShortAnswer":case"LongAnswer":return(0,a.jsx)(Z.A,{className:"h-4 w-4"});default:return(0,a.jsx)(I.A,{className:"h-4 w-4"})}},v=e=>{switch(e){case"Easy":return"bg-green-100 text-green-800 border-green-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Hard":return"bg-blue-100 text-blue-800 border-blue-200";case"Expert":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},N=()=>s.questions.reduce((e,s)=>e+s.points,0),w=(e,s)=>{var t;let i=o[e.id];return(0,a.jsxs)(n.Zp,{className:"w-full",children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsxs)(l.E,{variant:"outline",className:"text-sm",children:["Question ",s+1]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[f(e.type),(0,a.jsx)("span",{className:"text-xs",children:e.type.replace(/([A-Z])/g," $1").trim()})]}),(0,a.jsx)(l.E,{className:"text-xs ".concat(v(e.difficulty)),children:e.difficulty}),(0,a.jsxs)(l.E,{variant:"secondary",className:"text-xs",children:[e.points," ",1===e.points?"point":"points"]}),e.isRequired&&(0,a.jsx)(l.E,{variant:"destructive",className:"text-xs",children:"Required"})]}),(0,a.jsx)(n.ZB,{className:"text-lg leading-relaxed",children:e.question})]})})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:["MultipleChoice"===e.type&&(()=>{var t;let n=(null==(t=e.questionData)?void 0:t.options)||[];return(0,a.jsx)("div",{className:"space-y-3",children:n.map((t,n)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"radio",id:"q".concat(s,"-option").concat(n),name:"question-".concat(e.id),value:t.id,checked:i===t.id,onChange:s=>j(e.id,s.target.value),className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.Label,{htmlFor:"q".concat(s,"-option").concat(n),className:"flex items-center gap-3 cursor-pointer flex-1 p-3 rounded-lg border hover:bg-gray-50",children:[(0,a.jsx)(l.E,{variant:"outline",className:"min-w-[24px] text-center",children:String.fromCharCode(65+n)}),(0,a.jsx)("span",{children:t.text})]})]},t.id))})})(),"TrueFalse"===e.type&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"radio",id:"q".concat(s,"-true"),name:"question-".concat(e.id),value:"true",checked:"true"===i,onChange:s=>j(e.id,s.target.value),className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.Label,{htmlFor:"q".concat(s,"-true"),className:"flex items-center gap-3 cursor-pointer flex-1 p-3 rounded-lg border hover:bg-gray-50",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{children:"True"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"radio",id:"q".concat(s,"-false"),name:"question-".concat(e.id),value:"false",checked:"false"===i,onChange:s=>j(e.id,s.target.value),className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.Label,{htmlFor:"q".concat(s,"-false"),className:"flex items-center gap-3 cursor-pointer flex-1 p-3 rounded-lg border hover:bg-gray-50",children:[(0,a.jsx)(Y.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)("span",{children:"False"})]})]})]}),"ShortAnswer"===e.type&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.p,{value:i||"",onChange:s=>j(e.id,s.target.value),placeholder:"Enter your answer...",className:"w-full"}),(null==(t=e.questionData)?void 0:t.caseSensitive)&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(U.A,{className:"h-3 w-3"}),"Case sensitive"]})]}),"LongAnswer"===e.type&&(()=>{var s;let t=null==(s=e.questionData)?void 0:s.maxWords,n=i?i.split(/\s+/).filter(e=>e.length>0).length:0;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(E.T,{value:i||"",onChange:s=>j(e.id,s.target.value),placeholder:"Enter your detailed answer...",rows:6,className:"w-full"}),t&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:[n," words"]}),(0,a.jsxs)("span",{className:n>t?"text-red-600":"",children:["Max: ",t," words"]})]})]})})(),"FillInTheBlank"===e.type&&(()=>{var s,t;let n=(null==(s=e.questionData)?void 0:s.text)||"",r=(null==(t=e.questionData)?void 0:t.blanks)||[],l=n.split("___");return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"text-base leading-relaxed",children:l.map((s,t)=>(0,a.jsxs)("span",{children:[s,t<r.length&&(0,a.jsx)(c.p,{value:(null==i?void 0:i[t])||"",onChange:s=>{let a={...i};a[t]=s.target.value,j(e.id,a)},className:"inline-block w-32 mx-1 h-8 text-center",placeholder:"___"})]},t))}),r.some(e=>e.caseSensitive)&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(U.A,{className:"h-3 w-3"}),"Some blanks are case sensitive"]})]})})(),e.explanation&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(X.A,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Explanation"}),(0,a.jsx)("p",{className:"text-sm text-blue-800 mt-1",children:e.explanation})]})]})})]})]},e.id)};return 0===s.questions.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(I.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Questions Added"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Add some questions to see the quiz preview"})]}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-6 w-6 text-blue-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:s.title})]}),s.description&&(0,a.jsx)("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:s.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(I.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-semibold",children:s.questions.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Questions"})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-semibold",children:N()}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Points"})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-semibold",children:s.timeLimit?"".concat(s.timeLimit,"m"):"âˆž"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Time Limit"})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(O.A,{className:"h-4 w-4 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[s.passingScore,"%"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Passing"})]})]})})})]}),s.instructions&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(X.A,{className:"h-5 w-5"}),"Instructions"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("p",{className:"text-muted-foreground whitespace-pre-line",children:s.instructions})})]}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Progress"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Object.keys(o).length," of ",s.questions.length," answered"]})]}),(0,a.jsx)(G.Progress,{value:Object.keys(o).length/s.questions.length*100,className:"h-2"})]})}),null!==x&&(0,a.jsx)(n.Zp,{className:"border-blue-200 bg-blue-50",children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-blue-800",children:[(0,a.jsx)(K.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-lg font-mono font-semibold",children:(e=>{let s=Math.floor(e/60);return"".concat(s,":").concat((e%60).toString().padStart(2,"0"))})(x)}),(0,a.jsx)("span",{className:"text-sm",children:"remaining"})]})})}),(0,a.jsx)("div",{className:"space-y-6",children:s.questions.map((e,s)=>w(e,s))}),(0,a.jsx)(n.Zp,{className:"border-green-200 bg-green-50",children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-800",children:[(0,a.jsx)(p.A,{className:"h-6 w-6"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Ready to Submit?"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-green-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(I.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[Object.keys(o).length," / ",s.questions.length," answered"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[N()," total points"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(O.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[s.passingScore,"% to pass"]})]})]}),(0,a.jsx)(r.$,{size:"lg",className:"bg-green-600 hover:bg-green-700",disabled:!0,children:"Submit Quiz (Preview Mode)"}),(0,a.jsx)("p",{className:"text-sm text-green-600",children:"This is a preview. Students will see a submit button here."})]})})}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Quiz Settings"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Label,{className:"font-medium",children:"Maximum Attempts:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:-1===s.maxAttempts?"Unlimited":s.maxAttempts})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Label,{className:"font-medium",children:"Show Results:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:s.showResults?"Immediately":"Hidden"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Label,{className:"font-medium",children:"Show Correct Answers:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:s.showCorrectAnswers?"Yes":"No"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Label,{className:"font-medium",children:"Question Order:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:s.randomizeQuestions?"Randomized":"Fixed"})]})]})})]})]})}function es(e){let{initialData:s,courseId:t,chapterId:u,lessonId:x,onSave:j,onCancel:f}=e,[v,N]=(0,i.useState)({title:"",description:"",instructions:"",courseId:t,chapterId:u,lessonId:x,timeLimit:void 0,passingScore:70,maxAttempts:3,showResults:!0,showCorrectAnswers:!1,randomizeQuestions:!1,randomizeOptions:!1,isPublished:!1,isActive:!0,questions:[],...s}),[w,y]=(0,i.useState)("details"),[A,C]=(0,i.useState)(null),[S,L]=(0,i.useState)(!1),[R,U]=(0,i.useState)(!1),[V,H]=(0,i.useState)(!1),G=async()=>{if(!v.title.trim())return void _.oR.error("Quiz title is required");if(0===v.questions.length)return void _.oR.error("At least one question is required");H(!0);try{await (null==j?void 0:j(v)),_.oR.success("Quiz saved successfully!")}catch(e){console.error("Error saving quiz:",e),_.oR.error("Failed to save quiz")}finally{H(!1)}},Y=e=>{N(s=>({...s,questions:s.questions.filter(s=>s.id!==e).map((e,s)=>({...e,position:s}))}))},X=(e,s)=>{N(t=>{let a=[...t.questions],i=a.findIndex(s=>s.id===e);if("up"===s&&0===i||"down"===s&&i===a.length-1)return t;let n="up"===s?i-1:i+1;return[a[i],a[n]]=[a[n],a[i]],a.forEach((e,s)=>{e.position=s}),{...t,questions:a}})},K=e=>{let s={...e,id:crypto.randomUUID(),question:"".concat(e.question," (Copy)"),position:v.questions.length};N(e=>({...e,questions:[...e.questions,s]}))},es=e=>{switch(e){case"MultipleChoice":return(0,a.jsx)(M.A,{className:"h-4 w-4"});case"TrueFalse":return(0,a.jsx)(p.A,{className:"h-4 w-4"});case"ShortAnswer":case"LongAnswer":return(0,a.jsx)(Z.A,{className:"h-4 w-4"});default:return(0,a.jsx)(I.A,{className:"h-4 w-4"})}},et=e=>{switch(e){case"Easy":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Hard":return"bg-blue-100 text-blue-800";case"Expert":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-6 w-6 text-blue-600"}),"Quiz Builder"]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Create interactive quizzes with multiple question types and advanced settings"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>U(!0),className:"flex items-center gap-2",children:[(0,a.jsx)(q.A,{className:"h-4 w-4"}),"Preview"]}),(0,a.jsxs)(r.$,{onClick:G,disabled:V||0===v.questions.length,className:"flex items-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-4 w-4"}),V?"Saving...":"Save Quiz"]}),f&&(0,a.jsx)(r.$,{variant:"outline",onClick:f,children:"Cancel"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(I.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Questions"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:v.questions.length})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Total Points"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:v.questions.reduce((e,s)=>e+s.points,0)})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Time Limit"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:v.timeLimit?"".concat(v.timeLimit,"m"):"None"})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(O.A,{className:"h-4 w-4 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Passing Score"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[v.passingScore,"%"]})]})]})})})]}),(0,a.jsxs)(P.Tabs,{value:w,onValueChange:y,className:"w-full",children:[(0,a.jsxs)(P.TabsList,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(P.TabsTrigger,{value:"details",children:"Quiz Details"}),(0,a.jsxs)(P.TabsTrigger,{value:"questions",children:["Questions (",v.questions.length,")"]}),(0,a.jsx)(P.TabsTrigger,{value:"settings",children:"Settings"})]}),(0,a.jsx)(P.TabsContent,{value:"details",className:"space-y-6",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Basic Information"}),(0,a.jsx)(n.BT,{children:"Set up the basic details for your quiz"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"title",children:"Quiz Title *"}),(0,a.jsx)(c.p,{id:"title",value:v.title,onChange:e=>N(s=>({...s,title:e.target.value})),placeholder:"Enter quiz title..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"passingScore",children:"Passing Score (%)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(F,{value:[v.passingScore],onValueChange:e=>N(s=>({...s,passingScore:e[0]})),max:100,step:5,className:"flex-1"}),(0,a.jsxs)("span",{className:"w-12 text-sm font-medium",children:[v.passingScore,"%"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"description",children:"Description"}),(0,a.jsx)(E.T,{id:"description",value:v.description||"",onChange:e=>N(s=>({...s,description:e.target.value})),placeholder:"Brief description of the quiz...",rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{htmlFor:"instructions",children:"Instructions"}),(0,a.jsx)(E.T,{id:"instructions",value:v.instructions||"",onChange:e=>N(s=>({...s,instructions:e.target.value})),placeholder:"Instructions for students taking the quiz...",rows:4})]})]})]})}),(0,a.jsxs)(P.TabsContent,{value:"questions",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Quiz Questions"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add and manage questions for your quiz"})]}),(0,a.jsxs)(r.$,{onClick:()=>{C(null),L(!0)},className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),"Add Question"]})]}),0===v.questions.length?(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(I.A,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"No questions yet"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Start by adding your first question to the quiz"}),(0,a.jsxs)(r.$,{onClick:()=>{C(null),L(!0)},className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),"Add First Question"]})]})]})})}):(0,a.jsx)("div",{className:"space-y-4",children:v.questions.map((e,s)=>(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsxs)(l.E,{variant:"outline",className:"text-xs",children:["Q",s+1]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[es(e.type),(0,a.jsx)("span",{className:"text-xs",children:e.type})]}),(0,a.jsx)(l.E,{className:"text-xs ".concat(et(e.difficulty)),children:e.difficulty}),(0,a.jsxs)(l.E,{variant:"secondary",className:"text-xs",children:[e.points," pts"]})]}),(0,a.jsx)("h4",{className:"font-medium mb-1 line-clamp-2",children:e.question}),e.explanation&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1",children:e.explanation})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>X(e.id,"up"),disabled:0===s,children:(0,a.jsx)(B.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>X(e.id,"down"),disabled:s===v.questions.length-1,children:(0,a.jsx)($.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>K(e),children:(0,a.jsx)(z.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>{C(e),L(!0)},children:(0,a.jsx)(k.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>Y(e.id),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})]})]})})},e.id))})]}),(0,a.jsxs)(P.TabsContent,{value:"settings",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Timing & Attempts"}),(0,a.jsx)(n.BT,{children:"Configure time limits and attempt restrictions"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Time Limit (minutes)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Q.Switch,{checked:void 0!==v.timeLimit,onCheckedChange:e=>N(s=>({...s,timeLimit:e?60:void 0}))}),void 0!==v.timeLimit&&(0,a.jsx)(c.p,{type:"number",value:v.timeLimit,onChange:e=>N(s=>({...s,timeLimit:parseInt(e.target.value)||60})),min:1,max:480,className:"w-24"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:v.timeLimit?"".concat(v.timeLimit," minutes"):"No limit"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.Label,{children:"Maximum Attempts"}),(0,a.jsxs)(d.l6,{value:v.maxAttempts.toString(),onValueChange:e=>N(s=>({...s,maxAttempts:parseInt(e)})),children:[(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"1",children:"1 attempt"}),(0,a.jsx)(d.eb,{value:"2",children:"2 attempts"}),(0,a.jsx)(d.eb,{value:"3",children:"3 attempts"}),(0,a.jsx)(d.eb,{value:"5",children:"5 attempts"}),(0,a.jsx)(d.eb,{value:"-1",children:"Unlimited"})]})]})]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Display Options"}),(0,a.jsx)(n.BT,{children:"Configure how results and feedback are shown"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Show Results Immediately"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Display score after submission"})]}),(0,a.jsx)(Q.Switch,{checked:v.showResults,onCheckedChange:e=>N(s=>({...s,showResults:e}))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Show Correct Answers"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Reveal correct answers after completion"})]}),(0,a.jsx)(Q.Switch,{checked:v.showCorrectAnswers,onCheckedChange:e=>N(s=>({...s,showCorrectAnswers:e}))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Randomize Questions"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Shuffle question order for each attempt"})]}),(0,a.jsx)(Q.Switch,{checked:v.randomizeQuestions,onCheckedChange:e=>N(s=>({...s,randomizeQuestions:e}))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Randomize Options"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Shuffle answer choices for multiple choice"})]}),(0,a.jsx)(Q.Switch,{checked:v.randomizeOptions,onCheckedChange:e=>N(s=>({...s,randomizeOptions:e}))})]})]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Quiz Status"}),(0,a.jsx)(n.BT,{children:"Control quiz availability and publication"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Published"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Make quiz available to students"})]}),(0,a.jsx)(Q.Switch,{checked:v.isPublished,onCheckedChange:e=>N(s=>({...s,isPublished:e}))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(D.Label,{children:"Active"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Quiz can be taken by students"})]}),(0,a.jsx)(Q.Switch,{checked:v.isActive,onCheckedChange:e=>N(s=>({...s,isActive:e}))})]})]})]})]})]}),(0,a.jsx)(o.lG,{open:S,onOpenChange:L,children:(0,a.jsxs)(o.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:A?"Edit Question":"Add New Question"}),(0,a.jsx)(o.rr,{children:"Create or modify quiz questions with various question types"})]}),(0,a.jsx)(J,{initialData:A,onSave:A?e=>{N(s=>({...s,questions:s.questions.map(s=>s.id===e.id?e:s)})),L(!1),C(null)}:e=>{let s={...e,id:crypto.randomUUID(),position:v.questions.length};N(e=>({...e,questions:[...e.questions,s]})),L(!1),C(null)},onCancel:()=>{L(!1),C(null)}})]})}),(0,a.jsx)(o.lG,{open:R,onOpenChange:U,children:(0,a.jsxs)(o.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:"Quiz Preview"}),(0,a.jsx)(o.rr,{children:"Preview how your quiz will appear to students"})]}),(0,a.jsx)(ee,{quiz:v})]})})]})}function et(){var e,s,t;let[D,E]=(0,i.useState)([]),[Q,R]=(0,i.useState)([]),[F,P]=(0,i.useState)(!0),[M,Z]=(0,i.useState)(""),[I,W]=(0,i.useState)("all"),[O,B]=(0,i.useState)("all"),[$,U]=(0,i.useState)(!1),[V,H]=(0,i.useState)(null),[J,G]=(0,i.useState)(!1),[Y,X]=(0,i.useState)(null);(0,i.useEffect)(()=>{K(),ee()},[]);let K=async()=>{try{let e=await fetch("/api/quiz");if(e.ok){let s=await e.json();E(s)}else _.oR.error("Failed to fetch quizzes")}catch(e){console.error("Error fetching quizzes:",e),_.oR.error("Failed to fetch quizzes")}finally{P(!1)}},ee=async()=>{try{let e=await fetch("/api/course");if(e.ok){let s=await e.json();R(s)}}catch(e){console.error("Error fetching courses:",e)}},et=async e=>{try{let s=await fetch("/api/quiz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok)_.oR.success("Quiz created successfully!"),U(!1),K();else{let e=await s.json();_.oR.error(e.error||"Failed to create quiz")}}catch(e){console.error("Error creating quiz:",e),_.oR.error("Failed to create quiz")}},ea=async(e,s)=>{try{let t=await fetch("/api/quiz/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(t.ok)_.oR.success("Quiz updated successfully!"),H(null),K();else{let e=await t.json();_.oR.error(e.error||"Failed to update quiz")}}catch(e){console.error("Error updating quiz:",e),_.oR.error("Failed to update quiz")}},ei=async()=>{if(Y)try{let e=await fetch("/api/quiz/".concat(Y.id),{method:"DELETE"});if(e.ok)_.oR.success("Quiz deleted successfully!"),G(!1),X(null),K();else{let s=await e.json();_.oR.error(s.error||"Failed to delete quiz")}}catch(e){console.error("Error deleting quiz:",e),_.oR.error("Failed to delete quiz")}},en=async(e,s)=>{try{let t=await fetch("/api/quiz/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[s]:!e[s]})});if(t.ok)_.oR.success("Quiz ".concat("isPublished"===s?"publication":"activation"," updated!")),K();else{let e=await t.json();_.oR.error(e.error||"Failed to update quiz status")}}catch(e){console.error("Error updating quiz status:",e),_.oR.error("Failed to update quiz status")}},er=async e=>{try{let{id:s,createdAt:t,_count:a,...i}=e,n={...i,title:"".concat(e.title," (Copy)"),isPublished:!1};await et(n)}catch(e){console.error("Error duplicating quiz:",e),_.oR.error("Failed to duplicate quiz")}},el=D.filter(e=>{let s=e.title.toLowerCase().includes(M.toLowerCase()),t="all"===I||e.courseId===I,a="all"===O||"published"===O&&e.isPublished||"draft"===O&&!e.isPublished||"active"===O&&e.isActive||"inactive"===O&&!e.isActive;return s&&t&&a}),ec=e=>e.isPublished&&e.isActive?"bg-green-100 text-green-800 border-green-200":e.isPublished&&!e.isActive?"bg-yellow-100 text-yellow-800 border-yellow-200":e.isPublished?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200",ed=e=>e.isPublished&&e.isActive?"Published":e.isPublished&&!e.isActive?"Paused":e.isPublished?"Inactive":"Draft",eo=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return F?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(m.A,{className:"h-12 w-12 text-blue-600 mx-auto animate-pulse mb-4"}),(0,a.jsx)("p",{children:"Loading quizzes..."})]})}):(0,a.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-8 w-8 text-blue-600"}),"Quiz Management"]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Create and manage interactive quizzes for your courses"})]}),(0,a.jsxs)(r.$,{onClick:()=>U(!0),className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),"Create Quiz"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Total Quizzes"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:D.length})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Published"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:D.filter(e=>e.isPublished).length})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-5 w-5 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Total Attempts"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:D.reduce((e,s)=>e+s._count.attempts,0)})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Questions"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:D.reduce((e,s)=>e+s.questions.length,0)})]})]})})})]}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(c.p,{placeholder:"Search quizzes...",value:M,onChange:e=>Z(e.target.value),className:"w-64"})]}),(0,a.jsxs)(d.l6,{value:I,onValueChange:W,children:[(0,a.jsx)(d.bq,{className:"w-48",children:(0,a.jsx)(d.yv,{placeholder:"Select course"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"all",children:"All Courses"}),Q.map(e=>(0,a.jsx)(d.eb,{value:e.id,children:e.title},e.id))]})]}),(0,a.jsxs)(d.l6,{value:O,onValueChange:B,children:[(0,a.jsx)(d.bq,{className:"w-32",children:(0,a.jsx)(d.yv,{placeholder:"Status"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"all",children:"All Status"}),(0,a.jsx)(d.eb,{value:"published",children:"Published"}),(0,a.jsx)(d.eb,{value:"draft",children:"Draft"}),(0,a.jsx)(d.eb,{value:"active",children:"Active"}),(0,a.jsx)(d.eb,{value:"inactive",children:"Inactive"})]})]}),(0,a.jsxs)(l.E,{variant:"secondary",className:"ml-auto",children:[el.length," of ",D.length," quizzes"]})]})})}),0===el.length?(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(m.A,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"No quizzes found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:M||"all"!==I||"all"!==O?"Try adjusting your filters":"Create your first quiz to get started"}),!M&&"all"===I&&"all"===O&&(0,a.jsxs)(r.$,{onClick:()=>U(!0),children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Create Your First Quiz"]})]})]})})}):(0,a.jsx)("div",{className:"grid gap-4",children:el.map(e=>{var s,t,i;return(0,a.jsx)(n.Zp,{className:"hover:shadow-md transition-shadow",children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,a.jsx)(l.E,{className:ec(e),children:ed(e)}),e._count.attempts>0&&(0,a.jsxs)(l.E,{variant:"outline",className:"text-xs",children:[e._count.attempts," attempts"]})]}),e.description&&(0,a.jsx)("p",{className:"text-muted-foreground mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:(null==(s=e.course)?void 0:s.title)||(null==(t=e.chapter)?void 0:t.title)||(null==(i=e.lesson)?void 0:i.title)||"Standalone"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[e.questions.length," questions"]})]}),e.timeLimit&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[e.timeLimit," min"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Created ",eo(e.createdAt)]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>en(e,"isActive"),disabled:!e.isPublished,children:e.isActive?(0,a.jsx)(w.A,{className:"h-4 w-4"}):(0,a.jsx)(y.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>window.open("/quiz/".concat(e.id,"/analytics"),"_blank"),children:(0,a.jsx)(A.A,{className:"h-4 w-4"})}),(0,a.jsxs)(u.DropdownMenu,{children:[(0,a.jsx)(u.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(u.DropdownMenuContent,{align:"end",children:[(0,a.jsxs)(u.DropdownMenuItem,{onClick:()=>H(e),children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Edit Quiz"]}),(0,a.jsxs)(u.DropdownMenuItem,{onClick:()=>window.open("/quiz/".concat(e.id,"/preview"),"_blank"),children:[(0,a.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Preview"]}),(0,a.jsxs)(u.DropdownMenuItem,{onClick:()=>er(e),children:[(0,a.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),(0,a.jsx)(u.DropdownMenuItem,{onClick:()=>en(e,"isPublished"),children:e.isPublished?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.A,{className:"h-4 w-4 mr-2"}),"Unpublish"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Publish"]})}),(0,a.jsx)(u.DropdownMenuSeparator,{}),(0,a.jsxs)(u.DropdownMenuItem,{onClick:()=>window.open("/quiz/".concat(e.id,"/results"),"_blank"),children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"View Results"]}),(0,a.jsxs)(u.DropdownMenuItem,{children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Export Data"]}),(0,a.jsxs)(u.DropdownMenuItem,{children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"Share Quiz"]}),(0,a.jsx)(u.DropdownMenuSeparator,{}),(0,a.jsxs)(u.DropdownMenuItem,{onClick:()=>{X(e),G(!0)},className:"text-red-600 focus:text-red-600",disabled:e._count.attempts>0,children:[(0,a.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Delete Quiz"]})]})]})]})]})})},e.id)})}),(0,a.jsx)(o.lG,{open:$,onOpenChange:U,children:(0,a.jsxs)(o.Cf,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:"Create New Quiz"}),(0,a.jsx)(o.rr,{children:"Create an interactive quiz with multiple question types and advanced settings"})]}),(0,a.jsx)(es,{onSave:et,onCancel:()=>U(!1)})]})}),(0,a.jsx)(o.lG,{open:!!V,onOpenChange:e=>!e&&H(null),children:(0,a.jsxs)(o.Cf,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:"Edit Quiz"}),(0,a.jsx)(o.rr,{children:"Modify your quiz settings and questions"})]}),V&&(0,a.jsx)(es,{initialData:V,onSave:e=>ea(V.id,e),onCancel:()=>H(null)})]})}),(0,a.jsx)(x.Lt,{open:J,onOpenChange:G,children:(0,a.jsxs)(x.EO,{children:[(0,a.jsxs)(x.wd,{children:[(0,a.jsx)(x.r7,{children:"Delete Quiz"}),(0,a.jsxs)(x.$v,{children:['Are you sure you want to delete "',null==Y?void 0:Y.title,'"? This action cannot be undone.',(null==Y||null==(e=Y._count)?void 0:e.attempts)&&Y._count.attempts>0&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-red-800 text-sm",children:["This quiz has ",(null==Y||null==(s=Y._count)?void 0:s.attempts)||0," student attempts and cannot be deleted."]})]})]}),(0,a.jsxs)(x.ck,{children:[(0,a.jsx)(x.Zr,{children:"Cancel"}),(0,a.jsx)(x.Rx,{onClick:ei,disabled:null!=Y&&null!=(t=Y._count)&&!!t.attempts&&Y._count.attempts>0,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}},23425:(e,s,t)=>{"use strict";t.d(s,{DropdownMenu:()=>r,DropdownMenuContent:()=>c,DropdownMenuItem:()=>o,DropdownMenuSeparator:()=>x,DropdownMenuTrigger:()=>l,I:()=>d,lp:()=>u});var a=t(72311);t(62847);var i=t(83067),n=t(98443);function r(e){let{...s}=e;return(0,a.jsx)(i.bL,{"data-slot":"dropdown-menu",...s})}function l(e){let{...s}=e;return(0,a.jsx)(i.l9,{"data-slot":"dropdown-menu-trigger",...s})}function c(e){let{className:s,sideOffset:t=4,...r}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsx)(i.UC,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...r})})}function d(e){let{...s}=e;return(0,a.jsx)(i.YJ,{"data-slot":"dropdown-menu-group",...s})}function o(e){let{className:s,inset:t,variant:r="default",...l}=e;return(0,a.jsx)(i.q7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l})}function u(e){let{className:s,inset:t,...r}=e;return(0,a.jsx)(i.JU,{"data-slot":"dropdown-menu-label","data-inset":t,className:(0,n.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",s),...r})}function x(e){let{className:s,...t}=e;return(0,a.jsx)(i.wv,{"data-slot":"dropdown-menu-separator",className:(0,n.cn)("bg-border -mx-1 my-1 h-px",s),...t})}},33788:(e,s,t)=>{"use strict";t.d(s,{$:()=>c,r:()=>l});var a=t(72311);t(62847);var i=t(37448),n=t(32560),r=t(98443);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:t,size:n,asChild:c=!1,...d}=e,o=c?i.DX:"button";return(0,a.jsx)(o,{suppressHydrationWarning:!0,"data-slot":"button",className:(0,r.cn)(l({variant:t,size:n,className:s})),...d})}},36318:(e,s,t)=>{"use strict";t.d(s,{Label:()=>r});var a=t(72311);t(62847);var i=t(97416),n=t(98443);function r(e){let{className:s,...t}=e;return(0,a.jsx)(i.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},37503:(e,s,t)=>{Promise.resolve().then(t.bind(t,17400))},49718:(e,s,t)=>{"use strict";t.d(s,{T:()=>n});var a=t(72311);t(62847);var i=t(98443);function n(e){let{className:s,...t}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,i.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}},56398:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>n,aR:()=>r});var a=t(72311);t(62847);var i=t(98443);function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,i.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",s),...t})}},57852:(e,s,t)=>{"use strict";t.d(s,{bq:()=>u,eb:()=>m,gC:()=>x,l6:()=>d,yv:()=>o});var a=t(72311);t(62847);var i=t(64890),n=t(66376),r=t(72786),l=t(51585),c=t(98443);function d(e){let{...s}=e;return(0,a.jsx)(i.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,a.jsx)(i.WT,{"data-slot":"select-value",...s})}function u(e){let{className:s,size:t="default",children:r,...l}=e;return(0,a.jsxs)(i.l9,{"data-slot":"select-trigger","data-size":t,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l,children:[r,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function x(e){let{className:s,children:t,position:n="popper",...r}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...r,children:[(0,a.jsx)(h,{}),(0,a.jsx)(i.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(p,{})]})})}function m(e){let{className:s,children:t,...n}=e;return(0,a.jsxs)(i.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(r.A,{className:"size-4"})})}),(0,a.jsx)(i.p4,{children:t})]})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(i.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(l.A,{className:"size-4"})})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(i.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(n.A,{className:"size-4"})})}},59697:(e,s,t)=>{"use strict";t.d(s,{Progress:()=>r});var a=t(72311);t(62847);var i=t(36215),n=t(98443);function r(e){let{className:s,value:t,...r}=e;return(0,a.jsx)(i.bL,{"data-slot":"progress",className:(0,n.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...r,children:(0,a.jsx)(i.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}},63132:(e,s,t)=>{"use strict";t.d(s,{Switch:()=>l});var a=t(72311),i=t(62847),n=t(44292),r=t(98443);let l=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(n.bL,{className:(0,r.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...i,ref:s,children:(0,a.jsx)(n.zi,{className:(0,r.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=n.bL.displayName},80085:(e,s,t)=>{"use strict";t.d(s,{E:()=>c});var a=t(72311);t(62847);var i=t(37448),n=t(32560),r=t(98443);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:t,asChild:n=!1,...c}=e,d=n?i.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,r.cn)(l({variant:t}),s),...c})}},85024:(e,s,t)=>{"use strict";t.d(s,{Tabs:()=>r,TabsContent:()=>d,TabsList:()=>l,TabsTrigger:()=>c});var a=t(72311);t(62847);var i=t(82867),n=t(98443);function r(e){let{className:s,...t}=e;return(0,a.jsx)(i.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)(i.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(i.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(i.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",s),...t})}},93347:(e,s,t)=>{"use strict";t.d(s,{$v:()=>p,EO:()=>u,Lt:()=>l,Rx:()=>j,Zr:()=>g,ck:()=>m,r7:()=>h,tv:()=>c,wd:()=>x});var a=t(72311);t(62847);var i=t(78386),n=t(98443),r=t(33788);function l(e){let{...s}=e;return(0,a.jsx)(i.bL,{"data-slot":"alert-dialog",...s})}function c(e){let{...s}=e;return(0,a.jsx)(i.l9,{"data-slot":"alert-dialog-trigger",...s})}function d(e){let{...s}=e;return(0,a.jsx)(i.ZL,{"data-slot":"alert-dialog-portal",...s})}function o(e){let{className:s,...t}=e;return(0,a.jsx)(i.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function u(e){let{className:s,...t}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(o,{}),(0,a.jsx)(i.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...t})]})}function x(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function m(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(i.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",s),...t})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(i.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",s),...t})}function j(e){let{className:s,...t}=e;return(0,a.jsx)(i.rc,{className:(0,n.cn)((0,r.r)(),s),...t})}function g(e){let{className:s,...t}=e;return(0,a.jsx)(i.ZD,{className:(0,n.cn)((0,r.r)({variant:"outline"}),s),...t})}},98443:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var a=t(37246),i=t(18327);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,i.QP)((0,a.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[2760,8425,8306,1932,3293,7321,8985,3067,4902,8642,6564,10,5789,6020,7358],()=>s(37503)),_N_E=e.O()}]);